function Xh(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ef(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Zu={exports:{}},oi={},ec={exports:{}},A={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fn=Symbol.for("react.element"),tf=Symbol.for("react.portal"),rf=Symbol.for("react.fragment"),nf=Symbol.for("react.strict_mode"),sf=Symbol.for("react.profiler"),of=Symbol.for("react.provider"),lf=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),uf=Symbol.for("react.suspense"),cf=Symbol.for("react.memo"),df=Symbol.for("react.lazy"),xa=Symbol.iterator;function hf(e){return e===null||typeof e!="object"?null:(e=xa&&e[xa]||e["@@iterator"],typeof e=="function"?e:null)}var tc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rc=Object.assign,nc={};function Fr(e,t,r){this.props=e,this.context=t,this.refs=nc,this.updater=r||tc}Fr.prototype.isReactComponent={};Fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sc(){}sc.prototype=Fr.prototype;function yl(e,t,r){this.props=e,this.context=t,this.refs=nc,this.updater=r||tc}var wl=yl.prototype=new sc;wl.constructor=yl;rc(wl,Fr.prototype);wl.isPureReactComponent=!0;var _a=Array.isArray,ic=Object.prototype.hasOwnProperty,xl={current:null},oc={key:!0,ref:!0,__self:!0,__source:!0};function lc(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ic.call(t,n)&&!oc.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Fn,type:e,key:i,ref:o,props:s,_owner:xl.current}}function ff(e,t){return{$$typeof:Fn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _l(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fn}function pf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ka=/\/+/g;function Ii(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pf(""+e.key):t.toString(36)}function _s(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fn:case tf:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ii(o,0):n,_a(s)?(r="",e!=null&&(r=e.replace(ka,"$&/")+"/"),_s(s,t,r,"",function(c){return c})):s!=null&&(_l(s)&&(s=ff(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ka,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",_a(e))for(var l=0;l<e.length;l++){i=e[l];var a=n+Ii(i,l);o+=_s(i,t,r,a,s)}else if(a=hf(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=n+Ii(i,l++),o+=_s(i,t,r,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zn(e,t,r){if(e==null)return e;var n=[],s=0;return _s(e,n,"","",function(i){return t.call(r,i,s++)}),n}function mf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ge={current:null},ks={transition:null},gf={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:ks,ReactCurrentOwner:xl};function ac(){throw Error("act(...) is not supported in production builds of React.")}A.Children={map:Zn,forEach:function(e,t,r){Zn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zn(e,function(){t++}),t},toArray:function(e){return Zn(e,function(t){return t})||[]},only:function(e){if(!_l(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};A.Component=Fr;A.Fragment=rf;A.Profiler=sf;A.PureComponent=yl;A.StrictMode=nf;A.Suspense=uf;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gf;A.act=ac;A.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=rc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=xl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)ic.call(t,a)&&!oc.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Fn,type:e.type,key:s,ref:i,props:n,_owner:o}};A.createContext=function(e){return e={$$typeof:lf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:of,_context:e},e.Consumer=e};A.createElement=lc;A.createFactory=function(e){var t=lc.bind(null,e);return t.type=e,t};A.createRef=function(){return{current:null}};A.forwardRef=function(e){return{$$typeof:af,render:e}};A.isValidElement=_l;A.lazy=function(e){return{$$typeof:df,_payload:{_status:-1,_result:e},_init:mf}};A.memo=function(e,t){return{$$typeof:cf,type:e,compare:t===void 0?null:t}};A.startTransition=function(e){var t=ks.transition;ks.transition={};try{e()}finally{ks.transition=t}};A.unstable_act=ac;A.useCallback=function(e,t){return ge.current.useCallback(e,t)};A.useContext=function(e){return ge.current.useContext(e)};A.useDebugValue=function(){};A.useDeferredValue=function(e){return ge.current.useDeferredValue(e)};A.useEffect=function(e,t){return ge.current.useEffect(e,t)};A.useId=function(){return ge.current.useId()};A.useImperativeHandle=function(e,t,r){return ge.current.useImperativeHandle(e,t,r)};A.useInsertionEffect=function(e,t){return ge.current.useInsertionEffect(e,t)};A.useLayoutEffect=function(e,t){return ge.current.useLayoutEffect(e,t)};A.useMemo=function(e,t){return ge.current.useMemo(e,t)};A.useReducer=function(e,t,r){return ge.current.useReducer(e,t,r)};A.useRef=function(e){return ge.current.useRef(e)};A.useState=function(e){return ge.current.useState(e)};A.useSyncExternalStore=function(e,t,r){return ge.current.useSyncExternalStore(e,t,r)};A.useTransition=function(){return ge.current.useTransition()};A.version="18.3.1";ec.exports=A;var k=ec.exports;const vf=Zh(k),yf=Xh({__proto__:null,default:vf},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=k,xf=Symbol.for("react.element"),_f=Symbol.for("react.fragment"),kf=Object.prototype.hasOwnProperty,Sf=wf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jf={key:!0,ref:!0,__self:!0,__source:!0};function uc(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)kf.call(t,n)&&!jf.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:xf,type:e,key:i,ref:o,props:s,_owner:Sf.current}}oi.Fragment=_f;oi.jsx=uc;oi.jsxs=uc;Zu.exports=oi;var u=Zu.exports,cc={exports:{}},Pe={},dc={exports:{}},hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,L){var I=P.length;P.push(L);e:for(;0<I;){var J=I-1>>>1,re=P[J];if(0<s(re,L))P[J]=L,P[I]=re,I=J;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var L=P[0],I=P.pop();if(I!==L){P[0]=I;e:for(var J=0,re=P.length,Yn=re>>>1;J<Yn;){var Ut=2*(J+1)-1,Li=P[Ut],Mt=Ut+1,Xn=P[Mt];if(0>s(Li,I))Mt<re&&0>s(Xn,Li)?(P[J]=Xn,P[Mt]=I,J=Mt):(P[J]=Li,P[Ut]=I,J=Ut);else if(Mt<re&&0>s(Xn,I))P[J]=Xn,P[Mt]=I,J=Mt;else break e}}return L}function s(P,L){var I=P.sortIndex-L.sortIndex;return I!==0?I:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,f=3,v=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(P){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=P)n(c),L.sortIndex=L.expirationTime,t(a,L);else break;L=r(c)}}function _(P){if(w=!1,p(P),!y)if(r(a)!==null)y=!0,Oi(j);else{var L=r(c);L!==null&&Ri(_,L.startTime-P)}}function j(P,L){y=!1,w&&(w=!1,g(S),S=-1),v=!0;var I=f;try{for(p(L),h=r(a);h!==null&&(!(h.expirationTime>L)||P&&!D());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var re=J(h.expirationTime<=L);L=e.unstable_now(),typeof re=="function"?h.callback=re:h===r(a)&&n(a),p(L)}else n(a);h=r(a)}if(h!==null)var Yn=!0;else{var Ut=r(c);Ut!==null&&Ri(_,Ut.startTime-L),Yn=!1}return Yn}finally{h=null,f=I,v=!1}}var T=!1,N=null,S=-1,O=5,E=-1;function D(){return!(e.unstable_now()-E<O)}function lr(){if(N!==null){var P=e.unstable_now();E=P;var L=!0;try{L=N(!0,P)}finally{L?Kr():(T=!1,N=null)}}else T=!1}var Kr;if(typeof m=="function")Kr=function(){m(lr)};else if(typeof MessageChannel<"u"){var wa=new MessageChannel,Yh=wa.port2;wa.port1.onmessage=lr,Kr=function(){Yh.postMessage(null)}}else Kr=function(){x(lr,0)};function Oi(P){N=P,T||(T=!0,Kr())}function Ri(P,L){S=x(function(){P(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,Oi(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var I=f;f=L;try{return P()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=f;f=P;try{return L()}finally{f=I}},e.unstable_scheduleCallback=function(P,L,I){var J=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?J+I:J):I=J,P){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=I+re,P={id:d++,callback:L,priorityLevel:P,startTime:I,expirationTime:re,sortIndex:-1},I>J?(P.sortIndex=I,t(c,P),r(a)===null&&P===r(c)&&(w?(g(S),S=-1):w=!0,Ri(_,I-J))):(P.sortIndex=re,t(a,P),y||v||(y=!0,Oi(j))),P},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(P){var L=f;return function(){var I=f;f=L;try{return P.apply(this,arguments)}finally{f=I}}}})(hc);dc.exports=hc;var bf=dc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ef=k,Ce=bf;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fc=new Set,_n={};function rr(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(_n[e]=t,e=0;e<t.length;e++)fc.add(t[e])}var lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=Object.prototype.hasOwnProperty,Tf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sa={},ja={};function Nf(e){return po.call(ja,e)?!0:po.call(Sa,e)?!1:Tf.test(e)?ja[e]=!0:(Sa[e]=!0,!1)}function Cf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pf(e,t,r,n){if(t===null||typeof t>"u"||Cf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ve(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ae[e]=new ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ae[t]=new ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ae[e]=new ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ae[e]=new ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ae[e]=new ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ae[e]=new ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ae[e]=new ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ae[e]=new ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ae[e]=new ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var kl=/[\-:]([a-z])/g;function Sl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kl,Sl);ae[t]=new ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kl,Sl);ae[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kl,Sl);ae[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ae[e]=new ve(e,1,!1,e.toLowerCase(),null,!1,!1)});ae.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ae[e]=new ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function jl(e,t,r,n){var s=ae.hasOwnProperty(t)?ae[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pf(t,r,s,n)&&(r=null),n||s===null?Nf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var dt=Ef.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),pr=Symbol.for("react.portal"),mr=Symbol.for("react.fragment"),bl=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),pc=Symbol.for("react.provider"),mc=Symbol.for("react.context"),El=Symbol.for("react.forward_ref"),go=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Tl=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),gc=Symbol.for("react.offscreen"),ba=Symbol.iterator;function Qr(e){return e===null||typeof e!="object"?null:(e=ba&&e[ba]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,$i;function nn(e){if($i===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$i=t&&t[1]||""}return`
`+$i+e}var Ai=!1;function Di(e,t){if(!e||Ai)return"";Ai=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ai=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nn(e):""}function Of(e){switch(e.tag){case 5:return nn(e.type);case 16:return nn("Lazy");case 13:return nn("Suspense");case 19:return nn("SuspenseList");case 0:case 2:case 15:return e=Di(e.type,!1),e;case 11:return e=Di(e.type.render,!1),e;case 1:return e=Di(e.type,!0),e;default:return""}}function yo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mr:return"Fragment";case pr:return"Portal";case mo:return"Profiler";case bl:return"StrictMode";case go:return"Suspense";case vo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mc:return(e.displayName||"Context")+".Consumer";case pc:return(e._context.displayName||"Context")+".Provider";case El:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tl:return t=e.displayName||null,t!==null?t:yo(e.type)||"Memo";case pt:t=e._payload,e=e._init;try{return yo(e(t))}catch{}}return null}function Rf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yo(t);case 8:return t===bl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lf(e){var t=vc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ts(e){e._valueTracker||(e._valueTracker=Lf(e))}function yc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=vc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ls(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wo(e,t){var r=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ea(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Rt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wc(e,t){t=t.checked,t!=null&&jl(e,"checked",t,!1)}function xo(e,t){wc(e,t);var r=Rt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_o(e,t.type,r):t.hasOwnProperty("defaultValue")&&_o(e,t.type,Rt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ta(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _o(e,t,r){(t!=="number"||Ls(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sn=Array.isArray;function Er(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Rt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ko(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Na(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(b(92));if(sn(r)){if(1<r.length)throw Error(b(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Rt(r)}}function xc(e,t){var r=Rt(t.value),n=Rt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ca(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _c(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function So(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_c(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rs,kc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},If=["Webkit","ms","Moz","O"];Object.keys(un).forEach(function(e){If.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),un[t]=un[e]})});function Sc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||un.hasOwnProperty(e)&&un[e]?(""+t).trim():t+"px"}function jc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Sc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var $f=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jo(e,t){if(t){if($f[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function bo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=null;function Nl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var To=null,Tr=null,Nr=null;function Pa(e){if(e=Vn(e)){if(typeof To!="function")throw Error(b(280));var t=e.stateNode;t&&(t=di(t),To(e.stateNode,e.type,t))}}function bc(e){Tr?Nr?Nr.push(e):Nr=[e]:Tr=e}function Ec(){if(Tr){var e=Tr,t=Nr;if(Nr=Tr=null,Pa(e),t)for(e=0;e<t.length;e++)Pa(t[e])}}function Tc(e,t){return e(t)}function Nc(){}var Ui=!1;function Cc(e,t,r){if(Ui)return e(t,r);Ui=!0;try{return Tc(e,t,r)}finally{Ui=!1,(Tr!==null||Nr!==null)&&(Nc(),Ec())}}function Sn(e,t){var r=e.stateNode;if(r===null)return null;var n=di(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(b(231,t,typeof r));return r}var No=!1;if(lt)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){No=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{No=!1}function Af(e,t,r,n,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var cn=!1,Is=null,$s=!1,Co=null,Df={onError:function(e){cn=!0,Is=e}};function Uf(e,t,r,n,s,i,o,l,a){cn=!1,Is=null,Af.apply(Df,arguments)}function Mf(e,t,r,n,s,i,o,l,a){if(Uf.apply(this,arguments),cn){if(cn){var c=Is;cn=!1,Is=null}else throw Error(b(198));$s||($s=!0,Co=c)}}function nr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Pc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Oa(e){if(nr(e)!==e)throw Error(b(188))}function zf(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(b(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Oa(s),e;if(i===n)return Oa(s),t;i=i.sibling}throw Error(b(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(b(189))}}if(r.alternate!==n)throw Error(b(190))}if(r.tag!==3)throw Error(b(188));return r.stateNode.current===r?e:t}function Oc(e){return e=zf(e),e!==null?Rc(e):null}function Rc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rc(e);if(t!==null)return t;e=e.sibling}return null}var Lc=Ce.unstable_scheduleCallback,Ra=Ce.unstable_cancelCallback,Ff=Ce.unstable_shouldYield,Bf=Ce.unstable_requestPaint,Y=Ce.unstable_now,Wf=Ce.unstable_getCurrentPriorityLevel,Cl=Ce.unstable_ImmediatePriority,Ic=Ce.unstable_UserBlockingPriority,As=Ce.unstable_NormalPriority,Vf=Ce.unstable_LowPriority,$c=Ce.unstable_IdlePriority,li=null,Xe=null;function Hf(e){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(li,e,void 0,(e.current.flags&128)===128)}catch{}}var qe=Math.clz32?Math.clz32:Qf,qf=Math.log,Kf=Math.LN2;function Qf(e){return e>>>=0,e===0?32:31-(qf(e)/Kf|0)|0}var ns=64,ss=4194304;function on(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ds(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=on(l):(i&=o,i!==0&&(n=on(i)))}else o=r&~s,o!==0?n=on(o):i!==0&&(n=on(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-qe(t),s=1<<r,n|=e[r],t&=~s;return n}function Jf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gf(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-qe(i),l=1<<o,a=s[o];a===-1?(!(l&r)||l&n)&&(s[o]=Jf(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Po(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ac(){var e=ns;return ns<<=1,!(ns&4194240)&&(ns=64),e}function Mi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Bn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qe(t),e[t]=r}function Yf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-qe(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Pl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-qe(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var M=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uc,Ol,Mc,zc,Fc,Oo=!1,is=[],St=null,jt=null,bt=null,jn=new Map,bn=new Map,vt=[],Xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function La(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":bt=null;break;case"pointerover":case"pointerout":jn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(t.pointerId)}}function Gr(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Vn(t),t!==null&&Ol(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zf(e,t,r,n,s){switch(t){case"focusin":return St=Gr(St,e,t,r,n,s),!0;case"dragenter":return jt=Gr(jt,e,t,r,n,s),!0;case"mouseover":return bt=Gr(bt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return jn.set(i,Gr(jn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,bn.set(i,Gr(bn.get(i)||null,e,t,r,n,s)),!0}return!1}function Bc(e){var t=qt(e.target);if(t!==null){var r=nr(t);if(r!==null){if(t=r.tag,t===13){if(t=Pc(r),t!==null){e.blockedOn=t,Fc(e.priority,function(){Mc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ss(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ro(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Eo=n,r.target.dispatchEvent(n),Eo=null}else return t=Vn(r),t!==null&&Ol(t),e.blockedOn=r,!1;t.shift()}return!0}function Ia(e,t,r){Ss(e)&&r.delete(t)}function ep(){Oo=!1,St!==null&&Ss(St)&&(St=null),jt!==null&&Ss(jt)&&(jt=null),bt!==null&&Ss(bt)&&(bt=null),jn.forEach(Ia),bn.forEach(Ia)}function Yr(e,t){e.blockedOn===t&&(e.blockedOn=null,Oo||(Oo=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,ep)))}function En(e){function t(s){return Yr(s,e)}if(0<is.length){Yr(is[0],e);for(var r=1;r<is.length;r++){var n=is[r];n.blockedOn===e&&(n.blockedOn=null)}}for(St!==null&&Yr(St,e),jt!==null&&Yr(jt,e),bt!==null&&Yr(bt,e),jn.forEach(t),bn.forEach(t),r=0;r<vt.length;r++)n=vt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vt.length&&(r=vt[0],r.blockedOn===null);)Bc(r),r.blockedOn===null&&vt.shift()}var Cr=dt.ReactCurrentBatchConfig,Us=!0;function tp(e,t,r,n){var s=M,i=Cr.transition;Cr.transition=null;try{M=1,Rl(e,t,r,n)}finally{M=s,Cr.transition=i}}function rp(e,t,r,n){var s=M,i=Cr.transition;Cr.transition=null;try{M=4,Rl(e,t,r,n)}finally{M=s,Cr.transition=i}}function Rl(e,t,r,n){if(Us){var s=Ro(e,t,r,n);if(s===null)Ji(e,t,n,Ms,r),La(e,n);else if(Zf(s,e,t,r,n))n.stopPropagation();else if(La(e,n),t&4&&-1<Xf.indexOf(e)){for(;s!==null;){var i=Vn(s);if(i!==null&&Uc(i),i=Ro(e,t,r,n),i===null&&Ji(e,t,n,Ms,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ji(e,t,n,null,r)}}var Ms=null;function Ro(e,t,r,n){if(Ms=null,e=Nl(n),e=qt(e),e!==null)if(t=nr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Pc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ms=e,null}function Wc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wf()){case Cl:return 1;case Ic:return 4;case As:case Vf:return 16;case $c:return 536870912;default:return 16}default:return 16}}var xt=null,Ll=null,js=null;function Vc(){if(js)return js;var e,t=Ll,r=t.length,n,s="value"in xt?xt.value:xt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return js=s.slice(e,1<n?1-n:void 0)}function bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function os(){return!0}function $a(){return!1}function Oe(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?os:$a,this.isPropagationStopped=$a,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),t}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=Oe(Br),Wn=K({},Br,{view:0,detail:0}),np=Oe(Wn),zi,Fi,Xr,ai=K({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xr&&(Xr&&e.type==="mousemove"?(zi=e.screenX-Xr.screenX,Fi=e.screenY-Xr.screenY):Fi=zi=0,Xr=e),zi)},movementY:function(e){return"movementY"in e?e.movementY:Fi}}),Aa=Oe(ai),sp=K({},ai,{dataTransfer:0}),ip=Oe(sp),op=K({},Wn,{relatedTarget:0}),Bi=Oe(op),lp=K({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),ap=Oe(lp),up=K({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cp=Oe(up),dp=K({},Br,{data:0}),Da=Oe(dp),hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pp[e])?!!t[e]:!1}function $l(){return mp}var gp=K({},Wn,{key:function(e){if(e.key){var t=hp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vp=Oe(gp),yp=K({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ua=Oe(yp),wp=K({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),xp=Oe(wp),_p=K({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),kp=Oe(_p),Sp=K({},ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jp=Oe(Sp),bp=[9,13,27,32],Al=lt&&"CompositionEvent"in window,dn=null;lt&&"documentMode"in document&&(dn=document.documentMode);var Ep=lt&&"TextEvent"in window&&!dn,Hc=lt&&(!Al||dn&&8<dn&&11>=dn),Ma=" ",za=!1;function qc(e,t){switch(e){case"keyup":return bp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gr=!1;function Tp(e,t){switch(e){case"compositionend":return Kc(t);case"keypress":return t.which!==32?null:(za=!0,Ma);case"textInput":return e=t.data,e===Ma&&za?null:e;default:return null}}function Np(e,t){if(gr)return e==="compositionend"||!Al&&qc(e,t)?(e=Vc(),js=Ll=xt=null,gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hc&&t.locale!=="ko"?null:t.data;default:return null}}var Cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cp[e.type]:t==="textarea"}function Qc(e,t,r,n){bc(n),t=zs(t,"onChange"),0<t.length&&(r=new Il("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var hn=null,Tn=null;function Pp(e){id(e,0)}function ui(e){var t=wr(e);if(yc(t))return e}function Op(e,t){if(e==="change")return t}var Jc=!1;if(lt){var Wi;if(lt){var Vi="oninput"in document;if(!Vi){var Ba=document.createElement("div");Ba.setAttribute("oninput","return;"),Vi=typeof Ba.oninput=="function"}Wi=Vi}else Wi=!1;Jc=Wi&&(!document.documentMode||9<document.documentMode)}function Wa(){hn&&(hn.detachEvent("onpropertychange",Gc),Tn=hn=null)}function Gc(e){if(e.propertyName==="value"&&ui(Tn)){var t=[];Qc(t,Tn,e,Nl(e)),Cc(Pp,t)}}function Rp(e,t,r){e==="focusin"?(Wa(),hn=t,Tn=r,hn.attachEvent("onpropertychange",Gc)):e==="focusout"&&Wa()}function Lp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ui(Tn)}function Ip(e,t){if(e==="click")return ui(t)}function $p(e,t){if(e==="input"||e==="change")return ui(t)}function Ap(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qe=typeof Object.is=="function"?Object.is:Ap;function Nn(e,t){if(Qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!po.call(t,s)||!Qe(e[s],t[s]))return!1}return!0}function Va(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ha(e,t){var r=Va(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Va(r)}}function Yc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xc(){for(var e=window,t=Ls();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ls(e.document)}return t}function Dl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dp(e){var t=Xc(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Yc(r.ownerDocument.documentElement,r)){if(n!==null&&Dl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Ha(r,i);var o=Ha(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Up=lt&&"documentMode"in document&&11>=document.documentMode,vr=null,Lo=null,fn=null,Io=!1;function qa(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Io||vr==null||vr!==Ls(n)||(n=vr,"selectionStart"in n&&Dl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fn&&Nn(fn,n)||(fn=n,n=zs(Lo,"onSelect"),0<n.length&&(t=new Il("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vr)))}function ls(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var yr={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionend:ls("Transition","TransitionEnd")},Hi={},Zc={};lt&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function ci(e){if(Hi[e])return Hi[e];if(!yr[e])return e;var t=yr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Zc)return Hi[e]=t[r];return e}var ed=ci("animationend"),td=ci("animationiteration"),rd=ci("animationstart"),nd=ci("transitionend"),sd=new Map,Ka="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function It(e,t){sd.set(e,t),rr(t,[e])}for(var qi=0;qi<Ka.length;qi++){var Ki=Ka[qi],Mp=Ki.toLowerCase(),zp=Ki[0].toUpperCase()+Ki.slice(1);It(Mp,"on"+zp)}It(ed,"onAnimationEnd");It(td,"onAnimationIteration");It(rd,"onAnimationStart");It("dblclick","onDoubleClick");It("focusin","onFocus");It("focusout","onBlur");It(nd,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ln));function Qa(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Mf(n,t,void 0,e),e.currentTarget=null}function id(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Qa(s,l,c),i=a}else for(o=0;o<n.length;o++){if(l=n[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Qa(s,l,c),i=a}}}if($s)throw e=Co,$s=!1,Co=null,e}function B(e,t){var r=t[Mo];r===void 0&&(r=t[Mo]=new Set);var n=e+"__bubble";r.has(n)||(od(t,e,2,!1),r.add(n))}function Qi(e,t,r){var n=0;t&&(n|=4),od(r,e,n,t)}var as="_reactListening"+Math.random().toString(36).slice(2);function Cn(e){if(!e[as]){e[as]=!0,fc.forEach(function(r){r!=="selectionchange"&&(Fp.has(r)||Qi(r,!1,e),Qi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[as]||(t[as]=!0,Qi("selectionchange",!1,t))}}function od(e,t,r,n){switch(Wc(t)){case 1:var s=tp;break;case 4:s=rp;break;default:s=Rl}r=s.bind(null,t,r,e),s=void 0,!No||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ji(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=qt(l),o===null)return;if(a=o.tag,a===5||a===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Cc(function(){var c=i,d=Nl(r),h=[];e:{var f=sd.get(e);if(f!==void 0){var v=Il,y=e;switch(e){case"keypress":if(bs(r)===0)break e;case"keydown":case"keyup":v=vp;break;case"focusin":y="focus",v=Bi;break;case"focusout":y="blur",v=Bi;break;case"beforeblur":case"afterblur":v=Bi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=xp;break;case ed:case td:case rd:v=ap;break;case nd:v=kp;break;case"scroll":v=np;break;case"wheel":v=jp;break;case"copy":case"cut":case"paste":v=cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ua}var w=(t&4)!==0,x=!w&&e==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var m=c,p;m!==null;){p=m;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,g!==null&&(_=Sn(m,g),_!=null&&w.push(Pn(m,_,p)))),x)break;m=m.return}0<w.length&&(f=new v(f,y,null,r,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&r!==Eo&&(y=r.relatedTarget||r.fromElement)&&(qt(y)||y[at]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=c,y=y?qt(y):null,y!==null&&(x=nr(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=Aa,_="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ua,_="onPointerLeave",g="onPointerEnter",m="pointer"),x=v==null?f:wr(v),p=y==null?f:wr(y),f=new w(_,m+"leave",v,r,d),f.target=x,f.relatedTarget=p,_=null,qt(d)===c&&(w=new w(g,m+"enter",y,r,d),w.target=p,w.relatedTarget=x,_=w),x=_,v&&y)t:{for(w=v,g=y,m=0,p=w;p;p=ar(p))m++;for(p=0,_=g;_;_=ar(_))p++;for(;0<m-p;)w=ar(w),m--;for(;0<p-m;)g=ar(g),p--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=ar(w),g=ar(g)}w=null}else w=null;v!==null&&Ja(h,f,v,w,!1),y!==null&&x!==null&&Ja(h,x,y,w,!0)}}e:{if(f=c?wr(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var j=Op;else if(Fa(f))if(Jc)j=$p;else{j=Lp;var T=Rp}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Ip);if(j&&(j=j(e,c))){Qc(h,j,r,d);break e}T&&T(e,f,c),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&_o(f,"number",f.value)}switch(T=c?wr(c):window,e){case"focusin":(Fa(T)||T.contentEditable==="true")&&(vr=T,Lo=c,fn=null);break;case"focusout":fn=Lo=vr=null;break;case"mousedown":Io=!0;break;case"contextmenu":case"mouseup":case"dragend":Io=!1,qa(h,r,d);break;case"selectionchange":if(Up)break;case"keydown":case"keyup":qa(h,r,d)}var N;if(Al)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else gr?qc(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Hc&&r.locale!=="ko"&&(gr||S!=="onCompositionStart"?S==="onCompositionEnd"&&gr&&(N=Vc()):(xt=d,Ll="value"in xt?xt.value:xt.textContent,gr=!0)),T=zs(c,S),0<T.length&&(S=new Da(S,e,null,r,d),h.push({event:S,listeners:T}),N?S.data=N:(N=Kc(r),N!==null&&(S.data=N)))),(N=Ep?Tp(e,r):Np(e,r))&&(c=zs(c,"onBeforeInput"),0<c.length&&(d=new Da("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=N))}id(h,t)})}function Pn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zs(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sn(e,r),i!=null&&n.unshift(Pn(e,i,s)),i=Sn(e,t),i!=null&&n.push(Pn(e,i,s))),e=e.return}return n}function ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ja(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,a=l.alternate,c=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&c!==null&&(l=c,s?(a=Sn(r,i),a!=null&&o.unshift(Pn(r,a,l))):s||(a=Sn(r,i),a!=null&&o.push(Pn(r,a,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Bp=/\r\n?/g,Wp=/\u0000|\uFFFD/g;function Ga(e){return(typeof e=="string"?e:""+e).replace(Bp,`
`).replace(Wp,"")}function us(e,t,r){if(t=Ga(t),Ga(e)!==t&&r)throw Error(b(425))}function Fs(){}var $o=null,Ao=null;function Do(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uo=typeof setTimeout=="function"?setTimeout:void 0,Vp=typeof clearTimeout=="function"?clearTimeout:void 0,Ya=typeof Promise=="function"?Promise:void 0,Hp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ya<"u"?function(e){return Ya.resolve(null).then(e).catch(qp)}:Uo;function qp(e){setTimeout(function(){throw e})}function Gi(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),En(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);En(t)}function Et(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Wr=Math.random().toString(36).slice(2),Ye="__reactFiber$"+Wr,On="__reactProps$"+Wr,at="__reactContainer$"+Wr,Mo="__reactEvents$"+Wr,Kp="__reactListeners$"+Wr,Qp="__reactHandles$"+Wr;function qt(e){var t=e[Ye];if(t)return t;for(var r=e.parentNode;r;){if(t=r[at]||r[Ye]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xa(e);e!==null;){if(r=e[Ye])return r;e=Xa(e)}return t}e=r,r=e.parentNode}return null}function Vn(e){return e=e[Ye]||e[at],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function di(e){return e[On]||null}var zo=[],xr=-1;function $t(e){return{current:e}}function W(e){0>xr||(e.current=zo[xr],zo[xr]=null,xr--)}function F(e,t){xr++,zo[xr]=e.current,e.current=t}var Lt={},he=$t(Lt),Se=$t(!1),Yt=Lt;function Ir(e,t){var r=e.type.contextTypes;if(!r)return Lt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function je(e){return e=e.childContextTypes,e!=null}function Bs(){W(Se),W(he)}function Za(e,t,r){if(he.current!==Lt)throw Error(b(168));F(he,t),F(Se,r)}function ld(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(b(108,Rf(e)||"Unknown",s));return K({},r,n)}function Ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lt,Yt=he.current,F(he,e),F(Se,Se.current),!0}function eu(e,t,r){var n=e.stateNode;if(!n)throw Error(b(169));r?(e=ld(e,t,Yt),n.__reactInternalMemoizedMergedChildContext=e,W(Se),W(he),F(he,e)):W(Se),F(Se,r)}var nt=null,hi=!1,Yi=!1;function ad(e){nt===null?nt=[e]:nt.push(e)}function Jp(e){hi=!0,ad(e)}function At(){if(!Yi&&nt!==null){Yi=!0;var e=0,t=M;try{var r=nt;for(M=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}nt=null,hi=!1}catch(s){throw nt!==null&&(nt=nt.slice(e+1)),Lc(Cl,At),s}finally{M=t,Yi=!1}}return null}var _r=[],kr=0,Vs=null,Hs=0,Re=[],Le=0,Xt=null,st=1,it="";function Ft(e,t){_r[kr++]=Hs,_r[kr++]=Vs,Vs=e,Hs=t}function ud(e,t,r){Re[Le++]=st,Re[Le++]=it,Re[Le++]=Xt,Xt=e;var n=st;e=it;var s=32-qe(n)-1;n&=~(1<<s),r+=1;var i=32-qe(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,st=1<<32-qe(t)+s|r<<s|n,it=i+e}else st=1<<i|r<<s|n,it=e}function Ul(e){e.return!==null&&(Ft(e,1),ud(e,1,0))}function Ml(e){for(;e===Vs;)Vs=_r[--kr],_r[kr]=null,Hs=_r[--kr],_r[kr]=null;for(;e===Xt;)Xt=Re[--Le],Re[Le]=null,it=Re[--Le],Re[Le]=null,st=Re[--Le],Re[Le]=null}var Ne=null,Te=null,V=!1,Ve=null;function cd(e,t){var r=Ie(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ne=e,Te=Et(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ne=e,Te=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Xt!==null?{id:st,overflow:it}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ie(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ne=e,Te=null,!0):!1;default:return!1}}function Fo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bo(e){if(V){var t=Te;if(t){var r=t;if(!tu(e,t)){if(Fo(e))throw Error(b(418));t=Et(r.nextSibling);var n=Ne;t&&tu(e,t)?cd(n,r):(e.flags=e.flags&-4097|2,V=!1,Ne=e)}}else{if(Fo(e))throw Error(b(418));e.flags=e.flags&-4097|2,V=!1,Ne=e}}}function ru(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ne=e}function cs(e){if(e!==Ne)return!1;if(!V)return ru(e),V=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Do(e.type,e.memoizedProps)),t&&(t=Te)){if(Fo(e))throw dd(),Error(b(418));for(;t;)cd(e,t),t=Et(t.nextSibling)}if(ru(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Te=Et(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Te=null}}else Te=Ne?Et(e.stateNode.nextSibling):null;return!0}function dd(){for(var e=Te;e;)e=Et(e.nextSibling)}function $r(){Te=Ne=null,V=!1}function zl(e){Ve===null?Ve=[e]:Ve.push(e)}var Gp=dt.ReactCurrentBatchConfig;function Zr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(b(309));var n=r.stateNode}if(!n)throw Error(b(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(b(284));if(!r._owner)throw Error(b(290,e))}return e}function ds(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nu(e){var t=e._init;return t(e._payload)}function hd(e){function t(g,m){if(e){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Pt(g,m),g.index=0,g.sibling=null,g}function i(g,m,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,p,_){return m===null||m.tag!==6?(m=so(p,g.mode,_),m.return=g,m):(m=s(m,p),m.return=g,m)}function a(g,m,p,_){var j=p.type;return j===mr?d(g,m,p.props.children,_,p.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===pt&&nu(j)===m.type)?(_=s(m,p.props),_.ref=Zr(g,m,p),_.return=g,_):(_=Rs(p.type,p.key,p.props,null,g.mode,_),_.ref=Zr(g,m,p),_.return=g,_)}function c(g,m,p,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=io(p,g.mode,_),m.return=g,m):(m=s(m,p.children||[]),m.return=g,m)}function d(g,m,p,_,j){return m===null||m.tag!==7?(m=Gt(p,g.mode,_,j),m.return=g,m):(m=s(m,p),m.return=g,m)}function h(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=so(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case es:return p=Rs(m.type,m.key,m.props,null,g.mode,p),p.ref=Zr(g,null,m),p.return=g,p;case pr:return m=io(m,g.mode,p),m.return=g,m;case pt:var _=m._init;return h(g,_(m._payload),p)}if(sn(m)||Qr(m))return m=Gt(m,g.mode,p,null),m.return=g,m;ds(g,m)}return null}function f(g,m,p,_){var j=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return j!==null?null:l(g,m,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case es:return p.key===j?a(g,m,p,_):null;case pr:return p.key===j?c(g,m,p,_):null;case pt:return j=p._init,f(g,m,j(p._payload),_)}if(sn(p)||Qr(p))return j!==null?null:d(g,m,p,_,null);ds(g,p)}return null}function v(g,m,p,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(p)||null,l(m,g,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case es:return g=g.get(_.key===null?p:_.key)||null,a(m,g,_,j);case pr:return g=g.get(_.key===null?p:_.key)||null,c(m,g,_,j);case pt:var T=_._init;return v(g,m,p,T(_._payload),j)}if(sn(_)||Qr(_))return g=g.get(p)||null,d(m,g,_,j,null);ds(m,_)}return null}function y(g,m,p,_){for(var j=null,T=null,N=m,S=m=0,O=null;N!==null&&S<p.length;S++){N.index>S?(O=N,N=null):O=N.sibling;var E=f(g,N,p[S],_);if(E===null){N===null&&(N=O);break}e&&N&&E.alternate===null&&t(g,N),m=i(E,m,S),T===null?j=E:T.sibling=E,T=E,N=O}if(S===p.length)return r(g,N),V&&Ft(g,S),j;if(N===null){for(;S<p.length;S++)N=h(g,p[S],_),N!==null&&(m=i(N,m,S),T===null?j=N:T.sibling=N,T=N);return V&&Ft(g,S),j}for(N=n(g,N);S<p.length;S++)O=v(N,g,S,p[S],_),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?S:O.key),m=i(O,m,S),T===null?j=O:T.sibling=O,T=O);return e&&N.forEach(function(D){return t(g,D)}),V&&Ft(g,S),j}function w(g,m,p,_){var j=Qr(p);if(typeof j!="function")throw Error(b(150));if(p=j.call(p),p==null)throw Error(b(151));for(var T=j=null,N=m,S=m=0,O=null,E=p.next();N!==null&&!E.done;S++,E=p.next()){N.index>S?(O=N,N=null):O=N.sibling;var D=f(g,N,E.value,_);if(D===null){N===null&&(N=O);break}e&&N&&D.alternate===null&&t(g,N),m=i(D,m,S),T===null?j=D:T.sibling=D,T=D,N=O}if(E.done)return r(g,N),V&&Ft(g,S),j;if(N===null){for(;!E.done;S++,E=p.next())E=h(g,E.value,_),E!==null&&(m=i(E,m,S),T===null?j=E:T.sibling=E,T=E);return V&&Ft(g,S),j}for(N=n(g,N);!E.done;S++,E=p.next())E=v(N,g,S,E.value,_),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?S:E.key),m=i(E,m,S),T===null?j=E:T.sibling=E,T=E);return e&&N.forEach(function(lr){return t(g,lr)}),V&&Ft(g,S),j}function x(g,m,p,_){if(typeof p=="object"&&p!==null&&p.type===mr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case es:e:{for(var j=p.key,T=m;T!==null;){if(T.key===j){if(j=p.type,j===mr){if(T.tag===7){r(g,T.sibling),m=s(T,p.props.children),m.return=g,g=m;break e}}else if(T.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===pt&&nu(j)===T.type){r(g,T.sibling),m=s(T,p.props),m.ref=Zr(g,T,p),m.return=g,g=m;break e}r(g,T);break}else t(g,T);T=T.sibling}p.type===mr?(m=Gt(p.props.children,g.mode,_,p.key),m.return=g,g=m):(_=Rs(p.type,p.key,p.props,null,g.mode,_),_.ref=Zr(g,m,p),_.return=g,g=_)}return o(g);case pr:e:{for(T=p.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){r(g,m.sibling),m=s(m,p.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=io(p,g.mode,_),m.return=g,g=m}return o(g);case pt:return T=p._init,x(g,m,T(p._payload),_)}if(sn(p))return y(g,m,p,_);if(Qr(p))return w(g,m,p,_);ds(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,p),m.return=g,g=m):(r(g,m),m=so(p,g.mode,_),m.return=g,g=m),o(g)):r(g,m)}return x}var Ar=hd(!0),fd=hd(!1),qs=$t(null),Ks=null,Sr=null,Fl=null;function Bl(){Fl=Sr=Ks=null}function Wl(e){var t=qs.current;W(qs),e._currentValue=t}function Wo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pr(e,t){Ks=e,Fl=Sr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ke=!0),e.firstContext=null)}function De(e){var t=e._currentValue;if(Fl!==e)if(e={context:e,memoizedValue:t,next:null},Sr===null){if(Ks===null)throw Error(b(308));Sr=e,Ks.dependencies={lanes:0,firstContext:e}}else Sr=Sr.next=e;return t}var Kt=null;function Vl(e){Kt===null?Kt=[e]:Kt.push(e)}function pd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Vl(t)):(r.next=s.next,s.next=r),t.interleaved=r,ut(e,n)}function ut(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var mt=!1;function Hl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function md(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,U&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ut(e,r)}return s=n.interleaved,s===null?(t.next=t,Vl(n)):(t.next=s.next,s.next=t),n.interleaved=t,ut(e,r)}function Es(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pl(e,r)}}function su(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qs(e,t,r,n){var s=e.updateQueue;mt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var f=l.lane,v=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,w=l;switch(f=t,v=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=K({},h,f);break e;case 2:mt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,a=h):d=d.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);er|=o,e.lanes=o,e.memoizedState=h}}function iu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(b(191,s));s.call(n)}}}var Hn={},Ze=$t(Hn),Rn=$t(Hn),Ln=$t(Hn);function Qt(e){if(e===Hn)throw Error(b(174));return e}function ql(e,t){switch(F(Ln,t),F(Rn,e),F(Ze,Hn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:So(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=So(t,e)}W(Ze),F(Ze,t)}function Dr(){W(Ze),W(Rn),W(Ln)}function gd(e){Qt(Ln.current);var t=Qt(Ze.current),r=So(t,e.type);t!==r&&(F(Rn,e),F(Ze,r))}function Kl(e){Rn.current===e&&(W(Ze),W(Rn))}var H=$t(0);function Js(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xi=[];function Ql(){for(var e=0;e<Xi.length;e++)Xi[e]._workInProgressVersionPrimary=null;Xi.length=0}var Ts=dt.ReactCurrentDispatcher,Zi=dt.ReactCurrentBatchConfig,Zt=0,q=null,ee=null,se=null,Gs=!1,pn=!1,In=0,Yp=0;function ue(){throw Error(b(321))}function Jl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qe(e[r],t[r]))return!1;return!0}function Gl(e,t,r,n,s,i){if(Zt=i,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ts.current=e===null||e.memoizedState===null?tm:rm,e=r(n,s),pn){i=0;do{if(pn=!1,In=0,25<=i)throw Error(b(301));i+=1,se=ee=null,t.updateQueue=null,Ts.current=nm,e=r(n,s)}while(pn)}if(Ts.current=Ys,t=ee!==null&&ee.next!==null,Zt=0,se=ee=q=null,Gs=!1,t)throw Error(b(300));return e}function Yl(){var e=In!==0;return In=0,e}function Ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?q.memoizedState=se=e:se=se.next=e,se}function Ue(){if(ee===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var t=se===null?q.memoizedState:se.next;if(t!==null)se=t,ee=e;else{if(e===null)throw Error(b(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},se===null?q.memoizedState=se=e:se=se.next=e}return se}function $n(e,t){return typeof t=="function"?t(e):t}function eo(e){var t=Ue(),r=t.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=e;var n=ee,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((Zt&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=n):a=a.next=h,q.lanes|=d,er|=d}c=c.next}while(c!==null&&c!==i);a===null?o=n:a.next=l,Qe(n,t.memoizedState)||(ke=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=a,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,q.lanes|=i,er|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function to(e){var t=Ue(),r=t.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Qe(i,t.memoizedState)||(ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function vd(){}function yd(e,t){var r=q,n=Ue(),s=t(),i=!Qe(n.memoizedState,s);if(i&&(n.memoizedState=s,ke=!0),n=n.queue,Xl(_d.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||se!==null&&se.memoizedState.tag&1){if(r.flags|=2048,An(9,xd.bind(null,r,n,s,t),void 0,null),ie===null)throw Error(b(349));Zt&30||wd(r,t,s)}return s}function wd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function xd(e,t,r,n){t.value=r,t.getSnapshot=n,kd(t)&&Sd(e)}function _d(e,t,r){return r(function(){kd(t)&&Sd(e)})}function kd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qe(e,r)}catch{return!0}}function Sd(e){var t=ut(e,1);t!==null&&Ke(t,e,1,-1)}function ou(e){var t=Ge();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:e},t.queue=e,e=e.dispatch=em.bind(null,q,e),[t.memoizedState,e]}function An(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=q.updateQueue,t===null?(t={lastEffect:null,stores:null},q.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function jd(){return Ue().memoizedState}function Ns(e,t,r,n){var s=Ge();q.flags|=e,s.memoizedState=An(1|t,r,void 0,n===void 0?null:n)}function fi(e,t,r,n){var s=Ue();n=n===void 0?null:n;var i=void 0;if(ee!==null){var o=ee.memoizedState;if(i=o.destroy,n!==null&&Jl(n,o.deps)){s.memoizedState=An(t,r,i,n);return}}q.flags|=e,s.memoizedState=An(1|t,r,i,n)}function lu(e,t){return Ns(8390656,8,e,t)}function Xl(e,t){return fi(2048,8,e,t)}function bd(e,t){return fi(4,2,e,t)}function Ed(e,t){return fi(4,4,e,t)}function Td(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nd(e,t,r){return r=r!=null?r.concat([e]):null,fi(4,4,Td.bind(null,t,e),r)}function Zl(){}function Cd(e,t){var r=Ue();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Pd(e,t){var r=Ue();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Od(e,t,r){return Zt&21?(Qe(r,t)||(r=Ac(),q.lanes|=r,er|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ke=!0),e.memoizedState=r)}function Xp(e,t){var r=M;M=r!==0&&4>r?r:4,e(!0);var n=Zi.transition;Zi.transition={};try{e(!1),t()}finally{M=r,Zi.transition=n}}function Rd(){return Ue().memoizedState}function Zp(e,t,r){var n=Ct(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ld(e))Id(t,r);else if(r=pd(e,t,r,n),r!==null){var s=me();Ke(r,e,n,s),$d(r,t,n)}}function em(e,t,r){var n=Ct(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ld(e))Id(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Qe(l,o)){var a=t.interleaved;a===null?(s.next=s,Vl(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}r=pd(e,t,s,n),r!==null&&(s=me(),Ke(r,e,n,s),$d(r,t,n))}}function Ld(e){var t=e.alternate;return e===q||t!==null&&t===q}function Id(e,t){pn=Gs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $d(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pl(e,r)}}var Ys={readContext:De,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useInsertionEffect:ue,useLayoutEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useMutableSource:ue,useSyncExternalStore:ue,useId:ue,unstable_isNewReconciler:!1},tm={readContext:De,useCallback:function(e,t){return Ge().memoizedState=[e,t===void 0?null:t],e},useContext:De,useEffect:lu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ns(4194308,4,Td.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var r=Ge();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ge();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Zp.bind(null,q,e),[n.memoizedState,e]},useRef:function(e){var t=Ge();return e={current:e},t.memoizedState=e},useState:ou,useDebugValue:Zl,useDeferredValue:function(e){return Ge().memoizedState=e},useTransition:function(){var e=ou(!1),t=e[0];return e=Xp.bind(null,e[1]),Ge().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=q,s=Ge();if(V){if(r===void 0)throw Error(b(407));r=r()}else{if(r=t(),ie===null)throw Error(b(349));Zt&30||wd(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,lu(_d.bind(null,n,i,e),[e]),n.flags|=2048,An(9,xd.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ge(),t=ie.identifierPrefix;if(V){var r=it,n=st;r=(n&~(1<<32-qe(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=In++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Yp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rm={readContext:De,useCallback:Cd,useContext:De,useEffect:Xl,useImperativeHandle:Nd,useInsertionEffect:bd,useLayoutEffect:Ed,useMemo:Pd,useReducer:eo,useRef:jd,useState:function(){return eo($n)},useDebugValue:Zl,useDeferredValue:function(e){var t=Ue();return Od(t,ee.memoizedState,e)},useTransition:function(){var e=eo($n)[0],t=Ue().memoizedState;return[e,t]},useMutableSource:vd,useSyncExternalStore:yd,useId:Rd,unstable_isNewReconciler:!1},nm={readContext:De,useCallback:Cd,useContext:De,useEffect:Xl,useImperativeHandle:Nd,useInsertionEffect:bd,useLayoutEffect:Ed,useMemo:Pd,useReducer:to,useRef:jd,useState:function(){return to($n)},useDebugValue:Zl,useDeferredValue:function(e){var t=Ue();return ee===null?t.memoizedState=e:Od(t,ee.memoizedState,e)},useTransition:function(){var e=to($n)[0],t=Ue().memoizedState;return[e,t]},useMutableSource:vd,useSyncExternalStore:yd,useId:Rd,unstable_isNewReconciler:!1};function Fe(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Vo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:K({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pi={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=me(),s=Ct(e),i=ot(n,s);i.payload=t,r!=null&&(i.callback=r),t=Tt(e,i,s),t!==null&&(Ke(t,e,s,n),Es(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=me(),s=Ct(e),i=ot(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Tt(e,i,s),t!==null&&(Ke(t,e,s,n),Es(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=me(),n=Ct(e),s=ot(r,n);s.tag=2,t!=null&&(s.callback=t),t=Tt(e,s,n),t!==null&&(Ke(t,e,n,r),Es(t,e,n))}};function au(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Nn(r,n)||!Nn(s,i):!0}function Ad(e,t,r){var n=!1,s=Lt,i=t.contextType;return typeof i=="object"&&i!==null?i=De(i):(s=je(t)?Yt:he.current,n=t.contextTypes,i=(n=n!=null)?Ir(e,s):Lt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function uu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pi.enqueueReplaceState(t,t.state,null)}function Ho(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Hl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=De(i):(i=je(t)?Yt:he.current,s.context=Ir(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Vo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pi.enqueueReplaceState(s,s.state,null),Qs(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ur(e,t){try{var r="",n=t;do r+=Of(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ro(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sm=typeof WeakMap=="function"?WeakMap:Map;function Dd(e,t,r){r=ot(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zs||(Zs=!0,rl=n),qo(e,t)},r}function Ud(e,t,r){r=ot(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){qo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){qo(e,t),typeof n!="function"&&(Nt===null?Nt=new Set([this]):Nt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function cu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sm;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=ym.bind(null,e,t,r),t.then(e,e))}function du(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ot(-1,1),t.tag=2,Tt(r,t,1))),r.lanes|=1),e)}var im=dt.ReactCurrentOwner,ke=!1;function pe(e,t,r,n){t.child=e===null?fd(t,null,r,n):Ar(t,e.child,r,n)}function fu(e,t,r,n,s){r=r.render;var i=t.ref;return Pr(t,s),n=Gl(e,t,r,n,i,s),r=Yl(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ct(e,t,s)):(V&&r&&Ul(t),t.flags|=1,pe(e,t,n,s),t.child)}function pu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!la(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Md(e,t,i,n,s)):(e=Rs(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Nn,r(o,n)&&e.ref===t.ref)return ct(e,t,s)}return t.flags|=1,e=Pt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Md(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Nn(i,n)&&e.ref===t.ref)if(ke=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ke=!0);else return t.lanes=e.lanes,ct(e,t,s)}return Ko(e,t,r,n,s)}function zd(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},F(br,Ee),Ee|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,F(br,Ee),Ee|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,F(br,Ee),Ee|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,F(br,Ee),Ee|=n;return pe(e,t,s,r),t.child}function Fd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ko(e,t,r,n,s){var i=je(r)?Yt:he.current;return i=Ir(t,i),Pr(t,s),r=Gl(e,t,r,n,i,s),n=Yl(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ct(e,t,s)):(V&&n&&Ul(t),t.flags|=1,pe(e,t,r,s),t.child)}function mu(e,t,r,n,s){if(je(r)){var i=!0;Ws(t)}else i=!1;if(Pr(t,s),t.stateNode===null)Cs(e,t),Ad(t,r,n),Ho(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=De(c):(c=je(r)?Yt:he.current,c=Ir(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||a!==c)&&uu(t,o,n,c),mt=!1;var f=t.memoizedState;o.state=f,Qs(t,n,o,s),a=t.memoizedState,l!==n||f!==a||Se.current||mt?(typeof d=="function"&&(Vo(t,r,d,n),a=t.memoizedState),(l=mt||au(t,r,l,n,f,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),o.props=n,o.state=a,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,md(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Fe(t.type,l),o.props=c,h=t.pendingProps,f=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=De(a):(a=je(r)?Yt:he.current,a=Ir(t,a));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&uu(t,o,n,a),mt=!1,f=t.memoizedState,o.state=f,Qs(t,n,o,s);var y=t.memoizedState;l!==h||f!==y||Se.current||mt?(typeof v=="function"&&(Vo(t,r,v,n),y=t.memoizedState),(c=mt||au(t,r,c,n,f,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=a,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Qo(e,t,r,n,i,s)}function Qo(e,t,r,n,s,i){Fd(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&eu(t,r,!1),ct(e,t,i);n=t.stateNode,im.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ar(t,e.child,null,i),t.child=Ar(t,null,l,i)):pe(e,t,l,i),t.memoizedState=n.state,s&&eu(t,r,!0),t.child}function Bd(e){var t=e.stateNode;t.pendingContext?Za(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Za(e,t.context,!1),ql(e,t.containerInfo)}function gu(e,t,r,n,s){return $r(),zl(s),t.flags|=256,pe(e,t,r,n),t.child}var Jo={dehydrated:null,treeContext:null,retryLane:0};function Go(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wd(e,t,r){var n=t.pendingProps,s=H.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),F(H,s&1),e===null)return Bo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vi(o,n,0,null),e=Gt(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Go(r),t.memoizedState=Jo,e):ea(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return om(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=Pt(s,a),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Pt(l,i):(i=Gt(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Go(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Jo,n}return i=e.child,e=i.sibling,n=Pt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ea(e,t){return t=vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hs(e,t,r,n){return n!==null&&zl(n),Ar(t,e.child,null,r),e=ea(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function om(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=ro(Error(b(422))),hs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=vi({mode:"visible",children:n.children},s,0,null),i=Gt(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ar(t,e.child,null,o),t.child.memoizedState=Go(o),t.memoizedState=Jo,i);if(!(t.mode&1))return hs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(b(419)),n=ro(i,n,void 0),hs(e,t,o,n)}if(l=(o&e.childLanes)!==0,ke||l){if(n=ie,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ut(e,s),Ke(n,e,s,-1))}return oa(),n=ro(Error(b(421))),hs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Te=Et(s.nextSibling),Ne=t,V=!0,Ve=null,e!==null&&(Re[Le++]=st,Re[Le++]=it,Re[Le++]=Xt,st=e.id,it=e.overflow,Xt=t),t=ea(t,n.children),t.flags|=4096,t)}function vu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Wo(e.return,t,r)}function no(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Vd(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(pe(e,t,n.children,r),n=H.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vu(e,r,t);else if(e.tag===19)vu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(F(H,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Js(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),no(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Js(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}no(t,!0,r,null,i);break;case"together":no(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ct(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),er|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,r=Pt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Pt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function lm(e,t,r){switch(t.tag){case 3:Bd(t),$r();break;case 5:gd(t);break;case 1:je(t.type)&&Ws(t);break;case 4:ql(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;F(qs,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(F(H,H.current&1),t.flags|=128,null):r&t.child.childLanes?Wd(e,t,r):(F(H,H.current&1),e=ct(e,t,r),e!==null?e.sibling:null);F(H,H.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Vd(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(H,H.current),n)break;return null;case 22:case 23:return t.lanes=0,zd(e,t,r)}return ct(e,t,r)}var Hd,Yo,qd,Kd;Hd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Yo=function(){};qd=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Qt(Ze.current);var i=null;switch(r){case"input":s=wo(e,s),n=wo(e,n),i=[];break;case"select":s=K({},s,{value:void 0}),n=K({},n,{value:void 0}),i=[];break;case"textarea":s=ko(e,s),n=ko(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fs)}jo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_n.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var a=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(i||(i=[]),i.push(c,r)),r=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_n.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&B("scroll",e),i||l===a||(i=[])):(i=i||[]).push(c,a))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Kd=function(e,t,r,n){r!==n&&(t.flags|=4)};function en(e,t){if(!V)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function am(e,t,r){var n=t.pendingProps;switch(Ml(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(t),null;case 1:return je(t.type)&&Bs(),ce(t),null;case 3:return n=t.stateNode,Dr(),W(Se),W(he),Ql(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ve!==null&&(il(Ve),Ve=null))),Yo(e,t),ce(t),null;case 5:Kl(t);var s=Qt(Ln.current);if(r=t.type,e!==null&&t.stateNode!=null)qd(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(b(166));return ce(t),null}if(e=Qt(Ze.current),cs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ye]=t,n[On]=i,e=(t.mode&1)!==0,r){case"dialog":B("cancel",n),B("close",n);break;case"iframe":case"object":case"embed":B("load",n);break;case"video":case"audio":for(s=0;s<ln.length;s++)B(ln[s],n);break;case"source":B("error",n);break;case"img":case"image":case"link":B("error",n),B("load",n);break;case"details":B("toggle",n);break;case"input":Ea(n,i),B("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},B("invalid",n);break;case"textarea":Na(n,i),B("invalid",n)}jo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&us(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&us(n.textContent,l,e),s=["children",""+l]):_n.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&B("scroll",n)}switch(r){case"input":ts(n),Ta(n,i,!0);break;case"textarea":ts(n),Ca(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Fs)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_c(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ye]=t,e[On]=n,Hd(e,t,!1,!1),t.stateNode=e;e:{switch(o=bo(r,n),r){case"dialog":B("cancel",e),B("close",e),s=n;break;case"iframe":case"object":case"embed":B("load",e),s=n;break;case"video":case"audio":for(s=0;s<ln.length;s++)B(ln[s],e);s=n;break;case"source":B("error",e),s=n;break;case"img":case"image":case"link":B("error",e),B("load",e),s=n;break;case"details":B("toggle",e),s=n;break;case"input":Ea(e,n),s=wo(e,n),B("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=K({},n,{value:void 0}),B("invalid",e);break;case"textarea":Na(e,n),s=ko(e,n),B("invalid",e);break;default:s=n}jo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?jc(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&kc(e,a)):i==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&kn(e,a):typeof a=="number"&&kn(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_n.hasOwnProperty(i)?a!=null&&i==="onScroll"&&B("scroll",e):a!=null&&jl(e,i,a,o))}switch(r){case"input":ts(e),Ta(e,n,!1);break;case"textarea":ts(e),Ca(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Rt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Er(e,!!n.multiple,i,!1):n.defaultValue!=null&&Er(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ce(t),null;case 6:if(e&&t.stateNode!=null)Kd(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(b(166));if(r=Qt(Ln.current),Qt(Ze.current),cs(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ye]=t,(i=n.nodeValue!==r)&&(e=Ne,e!==null))switch(e.tag){case 3:us(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&us(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ye]=t,t.stateNode=n}return ce(t),null;case 13:if(W(H),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(V&&Te!==null&&t.mode&1&&!(t.flags&128))dd(),$r(),t.flags|=98560,i=!1;else if(i=cs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(b(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[Ye]=t}else $r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ce(t),i=!1}else Ve!==null&&(il(Ve),Ve=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||H.current&1?te===0&&(te=3):oa())),t.updateQueue!==null&&(t.flags|=4),ce(t),null);case 4:return Dr(),Yo(e,t),e===null&&Cn(t.stateNode.containerInfo),ce(t),null;case 10:return Wl(t.type._context),ce(t),null;case 17:return je(t.type)&&Bs(),ce(t),null;case 19:if(W(H),i=t.memoizedState,i===null)return ce(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)en(i,!1);else{if(te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Js(e),o!==null){for(t.flags|=128,en(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return F(H,H.current&1|2),t.child}e=e.sibling}i.tail!==null&&Y()>Mr&&(t.flags|=128,n=!0,en(i,!1),t.lanes=4194304)}else{if(!n)if(e=Js(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),en(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!V)return ce(t),null}else 2*Y()-i.renderingStartTime>Mr&&r!==1073741824&&(t.flags|=128,n=!0,en(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Y(),t.sibling=null,r=H.current,F(H,n?r&1|2:r&1),t):(ce(t),null);case 22:case 23:return ia(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ee&1073741824&&(ce(t),t.subtreeFlags&6&&(t.flags|=8192)):ce(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function um(e,t){switch(Ml(t),t.tag){case 1:return je(t.type)&&Bs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dr(),W(Se),W(he),Ql(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kl(t),null;case 13:if(W(H),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));$r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(H),null;case 4:return Dr(),null;case 10:return Wl(t.type._context),null;case 22:case 23:return ia(),null;case 24:return null;default:return null}}var fs=!1,de=!1,cm=typeof WeakSet=="function"?WeakSet:Set,C=null;function jr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Q(e,t,n)}else r.current=null}function Xo(e,t,r){try{r()}catch(n){Q(e,t,n)}}var yu=!1;function dm(e,t){if($o=Us,e=Xc(),Dl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(a=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===r&&++c===s&&(l=o),f===i&&++d===n&&(a=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ao={focusedElem:e,selectionRange:r},Us=!1,C=t;C!==null;)if(t=C,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,C=e;else for(;C!==null;){t=C;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:Fe(t.type,w),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(_){Q(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,C=e;break}C=t.return}return y=yu,yu=!1,y}function mn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xo(t,r,i)}s=s.next}while(s!==n)}}function mi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Zo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Qd(e){var t=e.alternate;t!==null&&(e.alternate=null,Qd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ye],delete t[On],delete t[Mo],delete t[Kp],delete t[Qp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jd(e){return e.tag===5||e.tag===3||e.tag===4}function wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function el(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fs));else if(n!==4&&(e=e.child,e!==null))for(el(e,t,r),e=e.sibling;e!==null;)el(e,t,r),e=e.sibling}function tl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(tl(e,t,r),e=e.sibling;e!==null;)tl(e,t,r),e=e.sibling}var oe=null,Be=!1;function ht(e,t,r){for(r=r.child;r!==null;)Gd(e,t,r),r=r.sibling}function Gd(e,t,r){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(li,r)}catch{}switch(r.tag){case 5:de||jr(r,t);case 6:var n=oe,s=Be;oe=null,ht(e,t,r),oe=n,Be=s,oe!==null&&(Be?(e=oe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):oe.removeChild(r.stateNode));break;case 18:oe!==null&&(Be?(e=oe,r=r.stateNode,e.nodeType===8?Gi(e.parentNode,r):e.nodeType===1&&Gi(e,r),En(e)):Gi(oe,r.stateNode));break;case 4:n=oe,s=Be,oe=r.stateNode.containerInfo,Be=!0,ht(e,t,r),oe=n,Be=s;break;case 0:case 11:case 14:case 15:if(!de&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xo(r,t,o),s=s.next}while(s!==n)}ht(e,t,r);break;case 1:if(!de&&(jr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Q(r,t,l)}ht(e,t,r);break;case 21:ht(e,t,r);break;case 22:r.mode&1?(de=(n=de)||r.memoizedState!==null,ht(e,t,r),de=n):ht(e,t,r);break;default:ht(e,t,r)}}function xu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new cm),t.forEach(function(n){var s=xm.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Me(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:oe=l.stateNode,Be=!1;break e;case 3:oe=l.stateNode.containerInfo,Be=!0;break e;case 4:oe=l.stateNode.containerInfo,Be=!0;break e}l=l.return}if(oe===null)throw Error(b(160));Gd(i,o,s),oe=null,Be=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){Q(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yd(t,e),t=t.sibling}function Yd(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Me(t,e),Je(e),n&4){try{mn(3,e,e.return),mi(3,e)}catch(w){Q(e,e.return,w)}try{mn(5,e,e.return)}catch(w){Q(e,e.return,w)}}break;case 1:Me(t,e),Je(e),n&512&&r!==null&&jr(r,r.return);break;case 5:if(Me(t,e),Je(e),n&512&&r!==null&&jr(r,r.return),e.flags&32){var s=e.stateNode;try{kn(s,"")}catch(w){Q(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&wc(s,i),bo(l,o);var c=bo(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?jc(s,h):d==="dangerouslySetInnerHTML"?kc(s,h):d==="children"?kn(s,h):jl(s,d,h,c)}switch(l){case"input":xo(s,i);break;case"textarea":xc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Er(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Er(s,!!i.multiple,i.defaultValue,!0):Er(s,!!i.multiple,i.multiple?[]:"",!1))}s[On]=i}catch(w){Q(e,e.return,w)}}break;case 6:if(Me(t,e),Je(e),n&4){if(e.stateNode===null)throw Error(b(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Q(e,e.return,w)}}break;case 3:if(Me(t,e),Je(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{En(t.containerInfo)}catch(w){Q(e,e.return,w)}break;case 4:Me(t,e),Je(e);break;case 13:Me(t,e),Je(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(na=Y())),n&4&&xu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(de=(c=de)||d,Me(t,e),de=c):Me(t,e),Je(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(C=e,d=e.child;d!==null;){for(h=C=d;C!==null;){switch(f=C,v=f.child,f.tag){case 0:case 11:case 14:case 15:mn(4,f,f.return);break;case 1:jr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){Q(n,r,w)}}break;case 5:jr(f,f.return);break;case 22:if(f.memoizedState!==null){ku(h);continue}}v!==null?(v.return=f,C=v):ku(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Sc("display",o))}catch(w){Q(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Q(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Me(t,e),Je(e),n&4&&xu(e);break;case 21:break;default:Me(t,e),Je(e)}}function Je(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Jd(r)){var n=r;break e}r=r.return}throw Error(b(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(kn(s,""),n.flags&=-33);var i=wu(e);tl(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=wu(e);el(e,l,o);break;default:throw Error(b(161))}}catch(a){Q(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hm(e,t,r){C=e,Xd(e)}function Xd(e,t,r){for(var n=(e.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||fs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||de;l=fs;var c=de;if(fs=o,(de=a)&&!c)for(C=s;C!==null;)o=C,a=o.child,o.tag===22&&o.memoizedState!==null?Su(s):a!==null?(a.return=o,C=a):Su(s);for(;i!==null;)C=i,Xd(i),i=i.sibling;C=s,fs=l,de=c}_u(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):_u(e)}}function _u(e){for(;C!==null;){var t=C;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:de||mi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!de)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Fe(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&iu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}iu(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&En(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}de||t.flags&512&&Zo(t)}catch(f){Q(t,t.return,f)}}if(t===e){C=null;break}if(r=t.sibling,r!==null){r.return=t.return,C=r;break}C=t.return}}function ku(e){for(;C!==null;){var t=C;if(t===e){C=null;break}var r=t.sibling;if(r!==null){r.return=t.return,C=r;break}C=t.return}}function Su(e){for(;C!==null;){var t=C;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mi(4,t)}catch(a){Q(t,r,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(a){Q(t,s,a)}}var i=t.return;try{Zo(t)}catch(a){Q(t,i,a)}break;case 5:var o=t.return;try{Zo(t)}catch(a){Q(t,o,a)}}}catch(a){Q(t,t.return,a)}if(t===e){C=null;break}var l=t.sibling;if(l!==null){l.return=t.return,C=l;break}C=t.return}}var fm=Math.ceil,Xs=dt.ReactCurrentDispatcher,ta=dt.ReactCurrentOwner,$e=dt.ReactCurrentBatchConfig,U=0,ie=null,X=null,le=0,Ee=0,br=$t(0),te=0,Dn=null,er=0,gi=0,ra=0,gn=null,xe=null,na=0,Mr=1/0,tt=null,Zs=!1,rl=null,Nt=null,ps=!1,_t=null,ei=0,vn=0,nl=null,Ps=-1,Os=0;function me(){return U&6?Y():Ps!==-1?Ps:Ps=Y()}function Ct(e){return e.mode&1?U&2&&le!==0?le&-le:Gp.transition!==null?(Os===0&&(Os=Ac()),Os):(e=M,e!==0||(e=window.event,e=e===void 0?16:Wc(e.type)),e):1}function Ke(e,t,r,n){if(50<vn)throw vn=0,nl=null,Error(b(185));Bn(e,r,n),(!(U&2)||e!==ie)&&(e===ie&&(!(U&2)&&(gi|=r),te===4&&yt(e,le)),be(e,n),r===1&&U===0&&!(t.mode&1)&&(Mr=Y()+500,hi&&At()))}function be(e,t){var r=e.callbackNode;Gf(e,t);var n=Ds(e,e===ie?le:0);if(n===0)r!==null&&Ra(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ra(r),t===1)e.tag===0?Jp(ju.bind(null,e)):ad(ju.bind(null,e)),Hp(function(){!(U&6)&&At()}),r=null;else{switch(Dc(n)){case 1:r=Cl;break;case 4:r=Ic;break;case 16:r=As;break;case 536870912:r=$c;break;default:r=As}r=oh(r,Zd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Zd(e,t){if(Ps=-1,Os=0,U&6)throw Error(b(327));var r=e.callbackNode;if(Or()&&e.callbackNode!==r)return null;var n=Ds(e,e===ie?le:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ti(e,n);else{t=n;var s=U;U|=2;var i=th();(ie!==e||le!==t)&&(tt=null,Mr=Y()+500,Jt(e,t));do try{gm();break}catch(l){eh(e,l)}while(!0);Bl(),Xs.current=i,U=s,X!==null?t=0:(ie=null,le=0,t=te)}if(t!==0){if(t===2&&(s=Po(e),s!==0&&(n=s,t=sl(e,s))),t===1)throw r=Dn,Jt(e,0),yt(e,n),be(e,Y()),r;if(t===6)yt(e,n);else{if(s=e.current.alternate,!(n&30)&&!pm(s)&&(t=ti(e,n),t===2&&(i=Po(e),i!==0&&(n=i,t=sl(e,i))),t===1))throw r=Dn,Jt(e,0),yt(e,n),be(e,Y()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(b(345));case 2:Bt(e,xe,tt);break;case 3:if(yt(e,n),(n&130023424)===n&&(t=na+500-Y(),10<t)){if(Ds(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){me(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Uo(Bt.bind(null,e,xe,tt),t);break}Bt(e,xe,tt);break;case 4:if(yt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-qe(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Y()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fm(n/1960))-n,10<n){e.timeoutHandle=Uo(Bt.bind(null,e,xe,tt),n);break}Bt(e,xe,tt);break;case 5:Bt(e,xe,tt);break;default:throw Error(b(329))}}}return be(e,Y()),e.callbackNode===r?Zd.bind(null,e):null}function sl(e,t){var r=gn;return e.current.memoizedState.isDehydrated&&(Jt(e,t).flags|=256),e=ti(e,t),e!==2&&(t=xe,xe=r,t!==null&&il(t)),e}function il(e){xe===null?xe=e:xe.push.apply(xe,e)}function pm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Qe(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yt(e,t){for(t&=~ra,t&=~gi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qe(t),n=1<<r;e[r]=-1,t&=~n}}function ju(e){if(U&6)throw Error(b(327));Or();var t=Ds(e,0);if(!(t&1))return be(e,Y()),null;var r=ti(e,t);if(e.tag!==0&&r===2){var n=Po(e);n!==0&&(t=n,r=sl(e,n))}if(r===1)throw r=Dn,Jt(e,0),yt(e,t),be(e,Y()),r;if(r===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bt(e,xe,tt),be(e,Y()),null}function sa(e,t){var r=U;U|=1;try{return e(t)}finally{U=r,U===0&&(Mr=Y()+500,hi&&At())}}function tr(e){_t!==null&&_t.tag===0&&!(U&6)&&Or();var t=U;U|=1;var r=$e.transition,n=M;try{if($e.transition=null,M=1,e)return e()}finally{M=n,$e.transition=r,U=t,!(U&6)&&At()}}function ia(){Ee=br.current,W(br)}function Jt(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Vp(r)),X!==null)for(r=X.return;r!==null;){var n=r;switch(Ml(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bs();break;case 3:Dr(),W(Se),W(he),Ql();break;case 5:Kl(n);break;case 4:Dr();break;case 13:W(H);break;case 19:W(H);break;case 10:Wl(n.type._context);break;case 22:case 23:ia()}r=r.return}if(ie=e,X=e=Pt(e.current,null),le=Ee=t,te=0,Dn=null,ra=gi=er=0,xe=gn=null,Kt!==null){for(t=0;t<Kt.length;t++)if(r=Kt[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Kt=null}return e}function eh(e,t){do{var r=X;try{if(Bl(),Ts.current=Ys,Gs){for(var n=q.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Gs=!1}if(Zt=0,se=ee=q=null,pn=!1,In=0,ta.current=null,r===null||r.return===null){te=1,Dn=t,X=null;break}e:{var i=e,o=r.return,l=r,a=t;if(t=le,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=du(o);if(v!==null){v.flags&=-257,hu(v,o,l,i,t),v.mode&1&&cu(i,c,t),t=v,a=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(a),t.updateQueue=w}else y.add(a);break e}else{if(!(t&1)){cu(i,c,t),oa();break e}a=Error(b(426))}}else if(V&&l.mode&1){var x=du(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),hu(x,o,l,i,t),zl(Ur(a,l));break e}}i=a=Ur(a,l),te!==4&&(te=2),gn===null?gn=[i]:gn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Dd(i,a,t);su(i,g);break e;case 1:l=a;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Nt===null||!Nt.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Ud(i,l,t);su(i,_);break e}}i=i.return}while(i!==null)}nh(r)}catch(j){t=j,X===r&&r!==null&&(X=r=r.return);continue}break}while(!0)}function th(){var e=Xs.current;return Xs.current=Ys,e===null?Ys:e}function oa(){(te===0||te===3||te===2)&&(te=4),ie===null||!(er&268435455)&&!(gi&268435455)||yt(ie,le)}function ti(e,t){var r=U;U|=2;var n=th();(ie!==e||le!==t)&&(tt=null,Jt(e,t));do try{mm();break}catch(s){eh(e,s)}while(!0);if(Bl(),U=r,Xs.current=n,X!==null)throw Error(b(261));return ie=null,le=0,te}function mm(){for(;X!==null;)rh(X)}function gm(){for(;X!==null&&!Ff();)rh(X)}function rh(e){var t=ih(e.alternate,e,Ee);e.memoizedProps=e.pendingProps,t===null?nh(e):X=t,ta.current=null}function nh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=um(r,t),r!==null){r.flags&=32767,X=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{te=6,X=null;return}}else if(r=am(r,t,Ee),r!==null){X=r;return}if(t=t.sibling,t!==null){X=t;return}X=t=e}while(t!==null);te===0&&(te=5)}function Bt(e,t,r){var n=M,s=$e.transition;try{$e.transition=null,M=1,vm(e,t,r,n)}finally{$e.transition=s,M=n}return null}function vm(e,t,r,n){do Or();while(_t!==null);if(U&6)throw Error(b(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Yf(e,i),e===ie&&(X=ie=null,le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ps||(ps=!0,oh(As,function(){return Or(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=$e.transition,$e.transition=null;var o=M;M=1;var l=U;U|=4,ta.current=null,dm(e,r),Yd(r,e),Dp(Ao),Us=!!$o,Ao=$o=null,e.current=r,hm(r),Bf(),U=l,M=o,$e.transition=i}else e.current=r;if(ps&&(ps=!1,_t=e,ei=s),i=e.pendingLanes,i===0&&(Nt=null),Hf(r.stateNode),be(e,Y()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Zs)throw Zs=!1,e=rl,rl=null,e;return ei&1&&e.tag!==0&&Or(),i=e.pendingLanes,i&1?e===nl?vn++:(vn=0,nl=e):vn=0,At(),null}function Or(){if(_t!==null){var e=Dc(ei),t=$e.transition,r=M;try{if($e.transition=null,M=16>e?16:e,_t===null)var n=!1;else{if(e=_t,_t=null,ei=0,U&6)throw Error(b(331));var s=U;for(U|=4,C=e.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(C=c;C!==null;){var d=C;switch(d.tag){case 0:case 11:case 15:mn(8,d,i)}var h=d.child;if(h!==null)h.return=d,C=h;else for(;C!==null;){d=C;var f=d.sibling,v=d.return;if(Qd(d),d===c){C=null;break}if(f!==null){f.return=v,C=f;break}C=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,C=g;break e}C=i.return}}var m=e.current;for(C=m;C!==null;){o=C;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,C=p;else e:for(o=m;C!==null;){if(l=C,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mi(9,l)}}catch(j){Q(l,l.return,j)}if(l===o){C=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,C=_;break e}C=l.return}}if(U=s,At(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(li,e)}catch{}n=!0}return n}finally{M=r,$e.transition=t}}return!1}function bu(e,t,r){t=Ur(r,t),t=Dd(e,t,1),e=Tt(e,t,1),t=me(),e!==null&&(Bn(e,1,t),be(e,t))}function Q(e,t,r){if(e.tag===3)bu(e,e,r);else for(;t!==null;){if(t.tag===3){bu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Nt===null||!Nt.has(n))){e=Ur(r,e),e=Ud(t,e,1),t=Tt(t,e,1),e=me(),t!==null&&(Bn(t,1,e),be(t,e));break}}t=t.return}}function ym(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=me(),e.pingedLanes|=e.suspendedLanes&r,ie===e&&(le&r)===r&&(te===4||te===3&&(le&130023424)===le&&500>Y()-na?Jt(e,0):ra|=r),be(e,t)}function sh(e,t){t===0&&(e.mode&1?(t=ss,ss<<=1,!(ss&130023424)&&(ss=4194304)):t=1);var r=me();e=ut(e,t),e!==null&&(Bn(e,t,r),be(e,r))}function wm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sh(e,r)}function xm(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(b(314))}n!==null&&n.delete(t),sh(e,r)}var ih;ih=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Se.current)ke=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ke=!1,lm(e,t,r);ke=!!(e.flags&131072)}else ke=!1,V&&t.flags&1048576&&ud(t,Hs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Cs(e,t),e=t.pendingProps;var s=Ir(t,he.current);Pr(t,r),s=Gl(null,t,n,e,s,r);var i=Yl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,je(n)?(i=!0,Ws(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hl(t),s.updater=pi,t.stateNode=s,s._reactInternals=t,Ho(t,n,e,r),t=Qo(null,t,n,!0,i,r)):(t.tag=0,V&&i&&Ul(t),pe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Cs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=km(n),e=Fe(n,e),s){case 0:t=Ko(null,t,n,e,r);break e;case 1:t=mu(null,t,n,e,r);break e;case 11:t=fu(null,t,n,e,r);break e;case 14:t=pu(null,t,n,Fe(n.type,e),r);break e}throw Error(b(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fe(n,s),Ko(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fe(n,s),mu(e,t,n,s,r);case 3:e:{if(Bd(t),e===null)throw Error(b(387));n=t.pendingProps,i=t.memoizedState,s=i.element,md(e,t),Qs(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ur(Error(b(423)),t),t=gu(e,t,n,r,s);break e}else if(n!==s){s=Ur(Error(b(424)),t),t=gu(e,t,n,r,s);break e}else for(Te=Et(t.stateNode.containerInfo.firstChild),Ne=t,V=!0,Ve=null,r=fd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($r(),n===s){t=ct(e,t,r);break e}pe(e,t,n,r)}t=t.child}return t;case 5:return gd(t),e===null&&Bo(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Do(n,s)?o=null:i!==null&&Do(n,i)&&(t.flags|=32),Fd(e,t),pe(e,t,o,r),t.child;case 6:return e===null&&Bo(t),null;case 13:return Wd(e,t,r);case 4:return ql(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ar(t,null,n,r):pe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fe(n,s),fu(e,t,n,s,r);case 7:return pe(e,t,t.pendingProps,r),t.child;case 8:return pe(e,t,t.pendingProps.children,r),t.child;case 12:return pe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,F(qs,n._currentValue),n._currentValue=o,i!==null)if(Qe(i.value,o)){if(i.children===s.children&&!Se.current){t=ct(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=ot(-1,r&-r),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Wo(i.return,r,t),l.lanes|=r;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(b(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Wo(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Pr(t,r),s=De(s),n=n(s),t.flags|=1,pe(e,t,n,r),t.child;case 14:return n=t.type,s=Fe(n,t.pendingProps),s=Fe(n.type,s),pu(e,t,n,s,r);case 15:return Md(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fe(n,s),Cs(e,t),t.tag=1,je(n)?(e=!0,Ws(t)):e=!1,Pr(t,r),Ad(t,n,s),Ho(t,n,s,r),Qo(null,t,n,!0,e,r);case 19:return Vd(e,t,r);case 22:return zd(e,t,r)}throw Error(b(156,t.tag))};function oh(e,t){return Lc(e,t)}function _m(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(e,t,r,n){return new _m(e,t,r,n)}function la(e){return e=e.prototype,!(!e||!e.isReactComponent)}function km(e){if(typeof e=="function")return la(e)?1:0;if(e!=null){if(e=e.$$typeof,e===El)return 11;if(e===Tl)return 14}return 2}function Pt(e,t){var r=e.alternate;return r===null?(r=Ie(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rs(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")la(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case mr:return Gt(r.children,s,i,t);case bl:o=8,s|=8;break;case mo:return e=Ie(12,r,t,s|2),e.elementType=mo,e.lanes=i,e;case go:return e=Ie(13,r,t,s),e.elementType=go,e.lanes=i,e;case vo:return e=Ie(19,r,t,s),e.elementType=vo,e.lanes=i,e;case gc:return vi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pc:o=10;break e;case mc:o=9;break e;case El:o=11;break e;case Tl:o=14;break e;case pt:o=16,n=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=Ie(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Gt(e,t,r,n){return e=Ie(7,e,n,t),e.lanes=r,e}function vi(e,t,r,n){return e=Ie(22,e,n,t),e.elementType=gc,e.lanes=r,e.stateNode={isHidden:!1},e}function so(e,t,r){return e=Ie(6,e,null,t),e.lanes=r,e}function io(e,t,r){return t=Ie(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sm(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mi(0),this.expirationTimes=Mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function aa(e,t,r,n,s,i,o,l,a){return e=new Sm(e,t,r,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ie(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(i),e}function jm(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function lh(e){if(!e)return Lt;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var r=e.type;if(je(r))return ld(e,r,t)}return t}function ah(e,t,r,n,s,i,o,l,a){return e=aa(r,n,!0,e,s,i,o,l,a),e.context=lh(null),r=e.current,n=me(),s=Ct(r),i=ot(n,s),i.callback=t??null,Tt(r,i,s),e.current.lanes=s,Bn(e,s,n),be(e,n),e}function yi(e,t,r,n){var s=t.current,i=me(),o=Ct(s);return r=lh(r),t.context===null?t.context=r:t.pendingContext=r,t=ot(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Tt(s,t,o),e!==null&&(Ke(e,s,o,i),Es(e,s,o)),o}function ri(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Eu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ua(e,t){Eu(e,t),(e=e.alternate)&&Eu(e,t)}function bm(){return null}var uh=typeof reportError=="function"?reportError:function(e){console.error(e)};function ca(e){this._internalRoot=e}wi.prototype.render=ca.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));yi(e,t,null,null)};wi.prototype.unmount=ca.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tr(function(){yi(null,e,null,null)}),t[at]=null}};function wi(e){this._internalRoot=e}wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=zc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vt.length&&t!==0&&t<vt[r].priority;r++);vt.splice(r,0,e),r===0&&Bc(e)}};function da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function Em(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ri(o);i.call(c)}}var o=ah(t,n,e,0,null,!1,!1,"",Tu);return e._reactRootContainer=o,e[at]=o.current,Cn(e.nodeType===8?e.parentNode:e),tr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=ri(a);l.call(c)}}var a=aa(e,0,!1,null,null,!1,!1,"",Tu);return e._reactRootContainer=a,e[at]=a.current,Cn(e.nodeType===8?e.parentNode:e),tr(function(){yi(t,a,r,n)}),a}function _i(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ri(o);l.call(a)}}yi(t,o,e,s)}else o=Em(r,t,e,s,n);return ri(o)}Uc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=on(t.pendingLanes);r!==0&&(Pl(t,r|1),be(t,Y()),!(U&6)&&(Mr=Y()+500,At()))}break;case 13:tr(function(){var n=ut(e,1);if(n!==null){var s=me();Ke(n,e,1,s)}}),ua(e,1)}};Ol=function(e){if(e.tag===13){var t=ut(e,134217728);if(t!==null){var r=me();Ke(t,e,134217728,r)}ua(e,134217728)}};Mc=function(e){if(e.tag===13){var t=Ct(e),r=ut(e,t);if(r!==null){var n=me();Ke(r,e,t,n)}ua(e,t)}};zc=function(){return M};Fc=function(e,t){var r=M;try{return M=e,t()}finally{M=r}};To=function(e,t,r){switch(t){case"input":if(xo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=di(n);if(!s)throw Error(b(90));yc(n),xo(n,s)}}}break;case"textarea":xc(e,r);break;case"select":t=r.value,t!=null&&Er(e,!!r.multiple,t,!1)}};Tc=sa;Nc=tr;var Tm={usingClientEntryPoint:!1,Events:[Vn,wr,di,bc,Ec,sa]},tn={findFiberByHostInstance:qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nm={bundleType:tn.bundleType,version:tn.version,rendererPackageName:tn.rendererPackageName,rendererConfig:tn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Oc(e),e===null?null:e.stateNode},findFiberByHostInstance:tn.findFiberByHostInstance||bm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{li=ms.inject(Nm),Xe=ms}catch{}}Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tm;Pe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!da(t))throw Error(b(200));return jm(e,t,null,r)};Pe.createRoot=function(e,t){if(!da(e))throw Error(b(299));var r=!1,n="",s=uh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=aa(e,1,!1,null,null,r,!1,n,s),e[at]=t.current,Cn(e.nodeType===8?e.parentNode:e),new ca(t)};Pe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=Oc(t),e=e===null?null:e.stateNode,e};Pe.flushSync=function(e){return tr(e)};Pe.hydrate=function(e,t,r){if(!xi(t))throw Error(b(200));return _i(null,e,t,!0,r)};Pe.hydrateRoot=function(e,t,r){if(!da(e))throw Error(b(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=uh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ah(t,null,e,1,r??null,s,!1,i,o),e[at]=t.current,Cn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new wi(t)};Pe.render=function(e,t,r){if(!xi(t))throw Error(b(200));return _i(null,e,t,!1,r)};Pe.unmountComponentAtNode=function(e){if(!xi(e))throw Error(b(40));return e._reactRootContainer?(tr(function(){_i(null,null,e,!1,function(){e._reactRootContainer=null,e[at]=null})}),!0):!1};Pe.unstable_batchedUpdates=sa;Pe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!xi(r))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return _i(e,t,r,!1,n)};Pe.version="18.3.1-next-f1338f8080-20240426";function ch(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ch)}catch(e){console.error(e)}}ch(),cc.exports=Pe;var Cm=cc.exports,dh,Nu=Cm;dh=Nu.createRoot,Nu.hydrateRoot;const Pm="modulepreload",Om=function(e){return"/"+e},Cu={},qn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(a=>{if(a=Om(a),a in Cu)return;Cu[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Pm,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Rm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qn(async()=>{const{default:n}=await Promise.resolve().then(()=>Vr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class ha extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Lm extends ha{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Im extends ha{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $m extends ha{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ol;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ol||(ol={}));var Am=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};class Dm{constructor(t,{headers:r={},customFetch:n,region:s=ol.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Rm(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Am(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:a}=r;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(y=>{throw new Lm(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Im(d);if(!d.ok)throw new $m(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var _e={},fa={},ki={},Kn={},Si={},ji={},Um=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zr=Um();const Mm=zr.fetch,hh=zr.fetch.bind(zr),fh=zr.Headers,zm=zr.Request,Fm=zr.Response,Vr=Object.freeze(Object.defineProperty({__proto__:null,Headers:fh,Request:zm,Response:Fm,default:hh,fetch:Mm},Symbol.toStringTag,{value:"Module"})),Bm=ef(Vr);var bi={};Object.defineProperty(bi,"__esModule",{value:!0});let Wm=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};bi.default=Wm;var ph=Ae&&Ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ji,"__esModule",{value:!0});const Vm=ph(Bm),Hm=ph(bi);let qm=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Vm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let c=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,v="OK")}catch{i.status===404&&w===""?(f=204,v="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new Hm.default(c)}return{error:c,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ji.default=qm;var Km=Ae&&Ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Si,"__esModule",{value:!0});const Qm=Km(ji);let Jm=class extends Qm.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Si.default=Jm;var Gm=Ae&&Ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kn,"__esModule",{value:!0});const Ym=Gm(Si);let Xm=class extends Ym.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Kn.default=Xm;var Zm=Ae&&Ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ki,"__esModule",{value:!0});const rn=Zm(Kn);let eg=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new rn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new rn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new rn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new rn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new rn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ki.default=eg;var Ei={},Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.version=void 0;Ti.version="0.0.0-automated";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.DEFAULT_HEADERS=void 0;const tg=Ti;Ei.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${tg.version}`};var mh=Ae&&Ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fa,"__esModule",{value:!0});const rg=mh(ki),ng=mh(Kn),sg=Ei;let ig=class gh{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},sg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new rg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new gh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let a;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new ng.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};fa.default=ig;var Hr=Ae&&Ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_e,"__esModule",{value:!0});_e.PostgrestError=_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const vh=Hr(fa);_e.PostgrestClient=vh.default;const yh=Hr(ki);_e.PostgrestQueryBuilder=yh.default;const wh=Hr(Kn);_e.PostgrestFilterBuilder=wh.default;const xh=Hr(Si);_e.PostgrestTransformBuilder=xh.default;const _h=Hr(ji);_e.PostgrestBuilder=_h.default;const kh=Hr(bi);_e.PostgrestError=kh.default;var og=_e.default={PostgrestClient:vh.default,PostgrestQueryBuilder:yh.default,PostgrestFilterBuilder:wh.default,PostgrestTransformBuilder:xh.default,PostgrestBuilder:_h.default,PostgrestError:kh.default};const{PostgrestClient:lg,PostgrestQueryBuilder:Py,PostgrestFilterBuilder:Oy,PostgrestTransformBuilder:Ry,PostgrestBuilder:Ly,PostgrestError:Iy}=og;let ll;typeof window>"u"?ll=require("ws"):ll=window.WebSocket;const ag="2.11.10",ug={"X-Client-Info":`realtime-js/${ag}`},cg="1.0.0",Sh=1e4,dg=1e3;var Rr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rr||(Rr={}));var fe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(fe||(fe={}));var We;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(We||(We={}));var al;(function(e){e.websocket="websocket"})(al||(al={}));var Ht;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ht||(Ht={}));class hg{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const a=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class jh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(z||(z={}));const Pu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=fg(o,e,t,s),i),{})},fg=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?bh(i,o):ul(o)},bh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return vg(t,r)}switch(e){case z.bool:return pg(t);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return mg(t);case z.json:case z.jsonb:return gg(t);case z.timestamp:return yg(t);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return ul(t);default:return ul(t)}},ul=e=>e,pg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},mg=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},gg=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},vg=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>bh(t,l))}return e},yg=e=>typeof e=="string"?e.replace(" ","T"):e,Eh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class oo{constructor(t,r,n={},s=Sh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ou;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ou||(Ou={}));class yn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=yn.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(x=>x.presence_ref),v=h.map(x=>x.presence_ref),y=d.filter(x=>v.indexOf(x.presence_ref)<0),w=h.filter(x=>f.indexOf(x.presence_ref)<0);y.length>0&&(l[c]=y),w.length>0&&(a[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(a),d.length>0){const h=t[l].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...f)}n(l,d,a)}),this.map(o,(l,a)=>{let c=t[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=c,s(l,c,a),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ru;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ru||(Ru={}));var Lu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lu||(Lu={}));var rt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class pa{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new oo(this,We.join,this.params,this.timeout),this.rejoinTimer=new jh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new yn(this),this.broadcastEndpointURL=Eh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(rt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(rt.CLOSED));const a={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(rt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<v;w++){const x=f[w],{filter:{event:g,schema:m,table:p,filter:_}}=x,j=d&&d[w];if(j&&j.event===g&&j.schema===m&&j.table===p&&j.filter===_)y.push(Object.assign(Object.assign({},x),{id:j.id}));else{this.unsubscribe(),this.state=fe.errored,t==null||t(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(rt.SUBSCRIBED);return}}).receive("error",d=>{this.state=fe.errored,t==null||t(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new oo(this,We.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new oo(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=We;if(n&&[l,a,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,x;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(w=v.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(v=>v.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,w,x,g,m,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,j=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:x,commit_timestamp:g,type:m,errors:p}=y;f=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:g,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(y))}v.callback(f,n)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pa.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(We.close,{},t)}_onError(t){this._on(We.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Pu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Pu(t.columns,t.old_record)),r}}const Iu=()=>{},wg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xg{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=ug,this.params={},this.timeout=Sh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Iu,this.ref=0,this.logger=Iu,this.conn=null,this.sendBuffer=[],this.serializer=new hg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>qn(async()=>{const{default:a}=await Promise.resolve().then(()=>Vr);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${al.websocket}`,this.httpEndpoint=Eh(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ll),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new _g(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cg}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Rr.connecting:return Ht.Connecting;case Rr.open:return Ht.Open;case Rr.closing:return Ht.Closing;default:return Ht.Closed}}isConnected(){return this.connectionState()===Ht.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new pa(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(We.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(dg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(We.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([wg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class _g{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Rr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class ma extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ne(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class kg extends ma{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cl extends ma{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Sg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};const Th=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qn(async()=>{const{default:n}=await Promise.resolve().then(()=>Vr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},jg=()=>Sg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qn(()=>Promise.resolve().then(()=>Vr),void 0)).Response:Response}),dl=e=>{if(Array.isArray(e))return e.map(r=>dl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=dl(n)}),t};var sr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};const lo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bg=(e,t,r)=>sr(void 0,void 0,void 0,function*(){const n=yield jg();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new kg(lo(s),e.status||500))}).catch(s=>{t(new cl(lo(s),s))}):t(new cl(lo(e),e))}),Eg=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Qn(e,t,r,n,s,i){return sr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Eg(t,n,s,i)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>bg(a,l,n))})})}function ni(e,t,r,n){return sr(this,void 0,void 0,function*(){return Qn(e,"GET",t,r,n)})}function gt(e,t,r,n,s){return sr(this,void 0,void 0,function*(){return Qn(e,"POST",t,n,s,r)})}function Tg(e,t,r,n,s){return sr(this,void 0,void 0,function*(){return Qn(e,"PUT",t,n,s,r)})}function Ng(e,t,r,n){return sr(this,void 0,void 0,function*(){return Qn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Nh(e,t,r,n,s){return sr(this,void 0,void 0,function*(){return Qn(e,"DELETE",t,n,s,r)})}var ye=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};const Cg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$u={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Pg{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Th(s)}uploadOrUpdate(t,r,n,s){return ye(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},$u),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ne(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ye(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let a;const c=Object.assign({upsert:$u.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",c.cacheControl)):(a=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(ne(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,r){return ye(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield gt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ma("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}update(t,r,n){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ye(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ye(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield gt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ye(this,void 0,void 0,function*(){try{const s=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}download(t,r){return ye(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ni(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}})}info(t){return ye(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ni(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:dl(n),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}exists(t){return ye(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ng(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ne(n)&&n instanceof cl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return ye(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}list(t,r,n){return ye(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Cg),r),{prefix:t||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Og="2.7.1",Rg={"X-Client-Info":`storage-js/${Og}`};var ur=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};class Lg{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Rg),r),this.fetch=Th(n)}listBuckets(){return ur(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ne(t))return{data:null,error:t};throw t}})}getBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ur(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ur(this,void 0,void 0,function*(){try{return{data:yield Tg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}}class Ig extends Lg{constructor(t,r={},n){super(t,r,n)}from(t){return new Pg(this.url,this.headers,t,this.fetch)}}const $g="2.50.0";let an="";typeof Deno<"u"?an="deno":typeof document<"u"?an="web":typeof navigator<"u"&&navigator.product==="ReactNative"?an="react-native":an="node";const Ag={"X-Client-Info":`supabase-js-${an}/${$g}`},Dg={headers:Ag},Ug={schema:"public"},Mg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zg={};var Fg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};const Bg=e=>{let t;return e?t=e:typeof fetch>"u"?t=hh:t=fetch,(...r)=>t(...r)},Wg=()=>typeof Headers>"u"?fh:Headers,Vg=(e,t,r)=>{const n=Bg(r),s=Wg();return(i,o)=>Fg(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Hg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};function qg(e){return e.endsWith("/")?e:e+"/"}function Kg(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:a,auth:c,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Hg(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Ch="2.70.0",fr=30*1e3,hl=3,ao=hl*fr,Qg="http://localhost:9999",Jg="supabase.auth.token",Gg={"X-Client-Info":`gotrue-js/${Ch}`},fl="X-Supabase-Api-Version",Ph={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xg=6e5;class ga extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function R(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Zg extends ga{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ev(e){return R(e)&&e.name==="AuthApiError"}class Oh extends ga{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Dt extends ga{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ft extends Dt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tv(e){return R(e)&&e.name==="AuthSessionMissingError"}class gs extends Dt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vs extends Dt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ys extends Dt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rv(e){return R(e)&&e.name==="AuthImplicitGrantRedirectError"}class Au extends Dt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pl extends Dt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function uo(e){return R(e)&&e.name==="AuthRetryableFetchError"}class Du extends Dt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class wn extends Dt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uu=` 	
\r=`.split(""),nv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Uu.length;t+=1)e[Uu[t].charCodeAt(0)]=-2;for(let t=0;t<si.length;t+=1)e[si[t].charCodeAt(0)]=t;return e})();function Mu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(si[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(si[n]),t.queuedBits-=6}}function Rh(e,t,r){const n=nv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zu(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{ov(o,n,r)};for(let o=0;o<e.length;o+=1)Rh(e.charCodeAt(o),s,i);return t.join("")}function sv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function iv(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}sv(n,t)}}function ov(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function lv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Rh(e.charCodeAt(s),r,n);return new Uint8Array(t)}function av(e){const t=[];return iv(e,r=>t.push(r)),new Uint8Array(t)}function uv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Mu(s,r,n)),Mu(null,r,n),t.join("")}function cv(e){return Math.round(Date.now()/1e3)+e}function dv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ze=()=>typeof window<"u"&&typeof document<"u",zt={tested:!1,writable:!1},xn=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zt.tested)return zt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zt.tested=!0,zt.writable=!0}catch{zt.tested=!0,zt.writable=!1}return zt.writable};function hv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Lh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>qn(async()=>{const{default:n}=await Promise.resolve().then(()=>Vr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},fv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ih=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ws=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xs=async(e,t)=>{await e.removeItem(t)};class Ni{constructor(){this.promise=new Ni.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ni.promiseConstructor=Promise;function co(e){const t=e.split(".");if(t.length!==3)throw new wn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Yg.test(t[n]))throw new wn("JWT not in base64url format");return{header:JSON.parse(zu(t[0])),payload:JSON.parse(zu(t[1])),signature:lv(t[2]),raw:{header:t[0],payload:t[1]}}}async function pv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mv(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function gv(e){return("0"+e.toString(16)).substr(-2)}function vv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,gv).join("")}async function yv(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function wv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await yv(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cr(e,t,r=!1){const n=vv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ih(e,`${t}-code-verifier`,s);const i=await wv(n);return[i,n===i?"plain":"s256"]}const xv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _v(e){const t=e.headers.get(fl);if(!t||!t.match(xv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function kv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Sv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dr(e){if(!jv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var bv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Wt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ev=[502,503,504];async function Fu(e){var t;if(!fv(e))throw new pl(Wt(e),0);if(Ev.includes(e.status))throw new pl(Wt(e),e.status);let r;try{r=await e.json()}catch(i){throw new Oh(Wt(i),i)}let n;const s=_v(e);if(s&&s.getTime()>=Ph["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Du(Wt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ft}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Du(Wt(r),e.status,r.weak_password.reasons);throw new Zg(Wt(r),e.status||500,n)}const Tv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function $(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[fl]||(i[fl]=Ph["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Nv(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function Nv(e,t,r,n,s,i){const o=Tv(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(a){throw console.error(a),new pl(Wt(a),0)}if(l.ok||await Fu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(a){await Fu(a)}}function et(e){var t;let r=null;Rv(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=cv(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Bu(e){const t=et(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Cv(e){return{data:e,error:null}}function Pv(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=bv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Ov(e){return e}function Rv(e){return e.access_token&&e.refresh_token&&e.expires_in}const ho=["global","local","others"];var Lv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Iv{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Lh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ho[0]){if(ho.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ho.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Lv(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Pv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ov});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);c[`${x}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(R(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){dr(t);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){dr(t);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:wt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){dr(t);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:wt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){dr(t.userId);try{const{data:r,error:n}=await $(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(t){dr(t.userId),dr(t.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}}const $v={getItem:e=>xn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{xn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{xn()&&globalThis.localStorage.removeItem(e)}};function Wu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Av(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hr={debug:!!(globalThis&&xn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $h extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Dv extends $h{}async function Uv(e,t,r){hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),hr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Dv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(hr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Av();const Mv={url:Qg,storageKey:Jg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vu(e,t,r){return await r()}class Un{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Un.nextInstanceID,Un.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Mv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Iv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Lh(s.fetch),this.lock=s.lock||Vu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ze()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Uv:this.lock=Vu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:xn()?this.storage=$v:(this.memoryStorage={},this.storage=Wu(this.memoryStorage)):(this.memoryStorage={},this.storage=Wu(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ch}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=hv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ze()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),rv(i)){const a=(t=i.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?{error:r}:{error:new Oh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:et}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await cr(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:et})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:et})}else throw new vs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bu})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bu})}else throw new vs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new gs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,a,c,d,h,f,v;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:x,wallet:g,statement:m,options:p}=t;let _;if(ze())if(typeof g=="object")_=g;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))_=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const j=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const T=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),m?{statement:m}:null));let N;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")N=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)N=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)y=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),w=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const T=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=T}}try{const{data:x,error:g}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:uv(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:et});if(g)throw g;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new gs}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:g})}catch(x){if(R(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await ws(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:et});if(await xs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new gs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:et}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new gs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:a}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await cr(this.storage,this.storageKey));const{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:a}=t,{data:c,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new vs("You must provide either an email or phone number.")}catch(l){if(R(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:et});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await cr(this.storage,this.storageKey)),await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Cv})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ft;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(R(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await $(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await $(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new vs("You must provide either an email or phone number and a type")}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ao:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ft}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:wt})})}catch(r){if(R(r))return tv(r)&&(await this._removeSession(),await xs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ft;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await cr(this.storage,this.storageKey));const{data:c,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:wt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ft;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=co(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(R(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ft;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ze())throw new ys("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ys(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Au("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ys("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Au("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=t;if(!i||!l||!o||!c)throw new ys("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;a&&(f=parseInt(a));const v=f-d;v*1e3<=fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(R(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ws(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(ev(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await xs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=dv(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await cr(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ze()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(R(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await mv(async s=>(s>0&&await pv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:et})),(s,i)=>{const o=200*Math.pow(2,s);return i&&uo(i)&&Date.now()+o-n<fr})}catch(n){if(this._debug(r,"error",n),R(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ze()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ws(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ao;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ao}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),uo(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ni;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ft;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),R(i)){const o={session:null,error:i};return uo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ih(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await xs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fr}ms, refresh threshold is ${hl} ticks`),s<=hl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $h)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await cr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await $(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:c}=await $(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=co(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Xg>Date.now()))return n;const{data:s,error:i}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new wn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new wn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=co(n);if(kv(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const c=Sv(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,av(`${l}.${a}`)))throw new wn("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}Un.nextInstanceID=0;const zv=Un;class Fv extends zv{constructor(t){super(t)}}var Bv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(h){o(h)}}function a(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};class Wv{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=qg(t),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:Ug,realtime:zg,auth:Object.assign(Object.assign({},Mg),{storageKey:c}),global:Dg},h=Kg(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Vg(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new lg(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Dm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ig(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Bv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:a},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new xg(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vv=(e,t,r)=>new Wv(e,t,r),Hv="https://mzcezzzuzvvwxfszaalp.supabase.co",qv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im16Y2V6enp1enZ2d3hmc3phYWxwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA0MDUzNTcsImV4cCI6MjA2NTk4MTM1N30.3QMYn6NCSY273xxOEJfIyyaYHdb00DItGHIIrT2pgAM",G=Vv(Hv,qv),Ah=k.createContext(),Ci=()=>{const e=k.useContext(Ah);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Kv=({children:e})=>{const[t,r]=k.useState(!1),[n,s]=k.useState(null),[i,o]=k.useState(!0);k.useEffect(()=>{const d=localStorage.getItem("pos_auth");if(d){const h=JSON.parse(d);r(!0),s(h.user)}o(!1)},[]);const c={isAuthenticated:t,user:n,loading:i,login:async d=>{const{data:h,error:f}=await G.from("users").select("*").eq("pin",d).single();return h&&!f?(r(!0),s(h),localStorage.setItem("pos_auth",JSON.stringify({user:h})),!0):!1},logout:()=>{r(!1),s(null),localStorage.removeItem("pos_auth")}};return u.jsx(Ah.Provider,{value:c,children:e})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mn.apply(this,arguments)}var kt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(kt||(kt={}));const Hu="popstate";function Qv(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return ml("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ii(s)}return Gv(t,r,null,e)}function Z(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jv(){return Math.random().toString(36).substr(2,8)}function qu(e,t){return{usr:e.state,key:e.key,idx:t}}function ml(e,t,r,n){return r===void 0&&(r=null),Mn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qr(t):t,{state:r,key:t&&t.key||n||Jv()})}function ii(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Gv(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=kt.Pop,a=null,c=d();c==null&&(c=0,o.replaceState(Mn({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=kt.Pop;let x=d(),g=x==null?null:x-c;c=x,a&&a({action:l,location:w.location,delta:g})}function f(x,g){l=kt.Push;let m=ml(w.location,x,g);c=d()+1;let p=qu(m,c),_=w.createHref(m);try{o.pushState(p,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&a&&a({action:l,location:w.location,delta:1})}function v(x,g){l=kt.Replace;let m=ml(w.location,x,g);c=d();let p=qu(m,c),_=w.createHref(m);o.replaceState(p,"",_),i&&a&&a({action:l,location:w.location,delta:0})}function y(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:ii(x);return m=m.replace(/ $/,"%20"),Z(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let w={get action(){return l},get location(){return e(s,o)},listen(x){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(Hu,h),a=x,()=>{s.removeEventListener(Hu,h),a=null}},createHref(x){return t(s,x)},createURL:y,encodeLocation(x){let g=y(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:v,go(x){return o.go(x)}};return w}var Ku;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ku||(Ku={}));function Yv(e,t,r){return r===void 0&&(r="/"),Xv(e,t,r)}function Xv(e,t,r,n){let s=typeof t=="string"?qr(t):t,i=va(s.pathname||"/",r);if(i==null)return null;let o=Uh(e);Zv(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let c=d0(i);l=a0(o[a],c)}return l}function Uh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(Z(a.relativePath.startsWith(n),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(n.length));let c=Ot([n,a.relativePath]),d=r.concat(a);i.children&&i.children.length>0&&(Z(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Uh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:o0(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let a of Mh(i.path))s(i,o,a)}),t}function Mh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Mh(n.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function Zv(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:l0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const e0=/^:[\w-]+$/,t0=3,r0=2,n0=1,s0=10,i0=-2,Qu=e=>e==="*";function o0(e,t){let r=e.split("/"),n=r.length;return r.some(Qu)&&(n+=i0),t&&(n+=r0),r.filter(s=>!Qu(s)).reduce((s,i)=>s+(e0.test(i)?t0:i===""?n0:s0),n)}function l0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function a0(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let a=n[l],c=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=u0({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d),f=a.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ot([i,h.pathname]),pathnameBase:m0(Ot([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Ot([i,h.pathnameBase]))}return o}function u0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=c0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[h];return v&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function c0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Dh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(n.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function d0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function va(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function h0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?qr(e):e;return{pathname:r?r.startsWith("/")?r:f0(r,t):t,search:g0(n),hash:v0(s)}}function f0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function fo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zh(e,t){let r=p0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Fh(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=qr(e):(s=Mn({},e),Z(!s.pathname||!s.pathname.includes("?"),fo("?","pathname","search",s)),Z(!s.pathname||!s.pathname.includes("#"),fo("#","pathname","hash",s)),Z(!s.search||!s.search.includes("#"),fo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let a=h0(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(c||d)&&(a.pathname+="/"),a}const Ot=e=>e.join("/").replace(/\/\/+/g,"/"),m0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),g0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,v0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function y0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Bh=["post","put","patch","delete"];new Set(Bh);const w0=["get",...Bh];new Set(w0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zn(){return zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zn.apply(this,arguments)}const ya=k.createContext(null),x0=k.createContext(null),ir=k.createContext(null),Pi=k.createContext(null),or=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Wh=k.createContext(null);function _0(e,t){let{relative:r}=t===void 0?{}:t;Jn()||Z(!1);let{basename:n,navigator:s}=k.useContext(ir),{hash:i,pathname:o,search:l}=Hh(e,{relative:r}),a=o;return n!=="/"&&(a=o==="/"?n:Ot([n,o])),s.createHref({pathname:a,search:l,hash:i})}function Jn(){return k.useContext(Pi)!=null}function Gn(){return Jn()||Z(!1),k.useContext(Pi).location}function Vh(e){k.useContext(ir).static||k.useLayoutEffect(e)}function k0(){let{isDataRoute:e}=k.useContext(or);return e?$0():S0()}function S0(){Jn()||Z(!1);let e=k.useContext(ya),{basename:t,future:r,navigator:n}=k.useContext(ir),{matches:s}=k.useContext(or),{pathname:i}=Gn(),o=JSON.stringify(zh(s,r.v7_relativeSplatPath)),l=k.useRef(!1);return Vh(()=>{l.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let h=Fh(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ot([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function Hh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(ir),{matches:s}=k.useContext(or),{pathname:i}=Gn(),o=JSON.stringify(zh(s,n.v7_relativeSplatPath));return k.useMemo(()=>Fh(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function j0(e,t){return b0(e,t)}function b0(e,t,r,n){Jn()||Z(!1);let{navigator:s}=k.useContext(ir),{matches:i}=k.useContext(or),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=Gn(),d;if(t){var h;let x=typeof t=="string"?qr(t):t;a==="/"||(h=x.pathname)!=null&&h.startsWith(a)||Z(!1),d=x}else d=c;let f=d.pathname||"/",v=f;if(a!=="/"){let x=a.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=Yv(e,{pathname:v}),w=P0(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ot([a,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:Ot([a,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&w?k.createElement(Pi.Provider,{value:{location:zn({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:kt.Pop}},w):w}function E0(){let e=I0(),t=y0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:s},r):null,null)}const T0=k.createElement(E0,null);class N0 extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(or.Provider,{value:this.props.routeContext},k.createElement(Wh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C0(e){let{routeContext:t,match:r,children:n}=e,s=k.useContext(ya);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(or.Provider,{value:t},n)}function P0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Z(!1),o=o.slice(0,Math.min(o.length,d+1))}let a=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:v}=r,y=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let v,y=!1,w=null,x=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||T0,a&&(c<0&&f===0?(A0("route-fallback"),y=!0,x=null):c===f&&(y=!0,x=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),m=()=>{let p;return v?p=w:y?p=x:h.route.Component?p=k.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,k.createElement(C0,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(N0,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var qh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qh||{}),Kh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kh||{});function O0(e){let t=k.useContext(ya);return t||Z(!1),t}function R0(e){let t=k.useContext(x0);return t||Z(!1),t}function L0(e){let t=k.useContext(or);return t||Z(!1),t}function Qh(e){let t=L0(),r=t.matches[t.matches.length-1];return r.route.id||Z(!1),r.route.id}function I0(){var e;let t=k.useContext(Wh),r=R0(),n=Qh();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function $0(){let{router:e}=O0(qh.UseNavigateStable),t=Qh(Kh.UseNavigateStable),r=k.useRef(!1);return Vh(()=>{r.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,zn({fromRouteId:t},i)))},[e,t])}const Ju={};function A0(e,t,r){Ju[e]||(Ju[e]=!0)}function D0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function we(e){Z(!1)}function U0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=kt.Pop,navigator:i,static:o=!1,future:l}=e;Jn()&&Z(!1);let a=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:a,navigator:i,static:o,future:zn({v7_relativeSplatPath:!1},l)}),[a,l,i,o]);typeof n=="string"&&(n=qr(n));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:y="default"}=n,w=k.useMemo(()=>{let x=va(d,a);return x==null?null:{location:{pathname:x,search:h,hash:f,state:v,key:y},navigationType:s}},[a,d,h,f,v,y,s]);return w==null?null:k.createElement(ir.Provider,{value:c},k.createElement(Pi.Provider,{children:r,value:w}))}function Jh(e){let{children:t,location:r}=e;return j0(gl(t),r)}new Promise(()=>{});function gl(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,s)=>{if(!k.isValidElement(n))return;let i=[...t,s];if(n.type===k.Fragment){r.push.apply(r,gl(n.props.children,i));return}n.type!==we&&Z(!1),!n.props.index||!n.props.children||Z(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=gl(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vl.apply(this,arguments)}function M0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function z0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function F0(e,t){return e.button===0&&(!t||t==="_self")&&!z0(e)}const B0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],W0="6";try{window.__reactRouterVersion=W0}catch{}const V0="startTransition",Gu=yf[V0];function H0(e){let{basename:t,children:r,future:n,window:s}=e,i=k.useRef();i.current==null&&(i.current=Qv({window:s,v5Compat:!0}));let o=i.current,[l,a]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=k.useCallback(h=>{c&&Gu?Gu(()=>a(h)):a(h)},[a,c]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>D0(n),[n]),k.createElement(U0,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gh=k.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:a,to:c,preventScrollReset:d,viewTransition:h}=t,f=M0(t,B0),{basename:v}=k.useContext(ir),y,w=!1;if(typeof c=="string"&&K0.test(c)&&(y=c,q0))try{let p=new URL(window.location.href),_=c.startsWith("//")?new URL(p.protocol+c):new URL(c),j=va(_.pathname,v);_.origin===p.origin&&j!=null?c=j+_.search+_.hash:w=!0}catch{}let x=_0(c,{relative:s}),g=Q0(c,{replace:o,state:l,target:a,preventScrollReset:d,relative:s,viewTransition:h});function m(p){n&&n(p),p.defaultPrevented||g(p)}return k.createElement("a",vl({},f,{href:y||x,onClick:w||i?n:m,ref:r,target:a}))});var Yu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yu||(Yu={}));var Xu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Xu||(Xu={}));function Q0(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,a=k0(),c=Gn(),d=Hh(e,{relative:o});return k.useCallback(h=>{if(F0(h,r)){h.preventDefault();let f=n!==void 0?n:ii(c)===ii(d);a(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,a,d,n,s,r,e,i,o,l])}const J0=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(""),[s,i]=k.useState(!1),{login:o}=Ci();k.useEffect(()=>{const d=async()=>{i(!0);const h=await o(e);i(!1),h?n(""):(n("Invalid PIN"),t(""))};e.length===4&&d()},[e,o]);const l=async d=>{d.preventDefault(),i(!0);const h=await o(e);i(!1),h?n(""):(n("Invalid PIN"),t(""))},a=d=>{e.length<4&&t(h=>h+d)},c=()=>{t(""),n("")};return u.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-96",children:[u.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"POS System"}),u.jsxs("form",{onSubmit:l,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Enter PIN"}),u.jsx("input",{type:"password",value:e,onChange:d=>t(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500 text-center text-2xl",maxLength:"4",placeholder:"   "})]}),r&&u.jsx("div",{className:"text-red-500 text-sm mb-4 text-center",children:r}),s&&u.jsx("div",{className:"text-center text-blue-500 mb-4",children:"Logging in..."}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[1,2,3,4,5,6,7,8,9,"C",0,""].map(d=>u.jsx("button",{type:d===""?"submit":"button",onClick:()=>{d==="C"?c():d!==""&&a(d.toString())},className:`p-4 text-xl font-bold rounded ${d===""?"bg-green-500 hover:bg-green-600 text-white":d==="C"?"bg-red-500 hover:bg-red-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:d},d))})]})]})})},G0=({className:e})=>u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Y0=({className:e})=>u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M3 14h18m-9-4v8m-7 0V7a2 2 0 012-2h14a2 2 0 012 2v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),X0=({className:e})=>u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Z0=({className:e})=>u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 11-4 0V7a2 2 0 00-2-2H5z"})}),ey=({className:e})=>u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),ty=({className:e})=>u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),ry=({className:e})=>u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),ny=({className:e})=>u.jsxs("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),sy=({className:e})=>u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),iy=({className:e})=>u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),oy=({className:e})=>u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),ly=({className:e})=>u.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),ay=()=>{const e=Gn(),{logout:t,user:r}=Ci(),n=[{name:"Dashboard",href:"/",icon:G0},{name:"Tables",href:"/tables",icon:Y0},{name:"New Order",href:"/new-order",icon:X0},{name:"Open Tickets",href:"/open-tickets",icon:Z0},{name:"Payment",href:"/payment",icon:oy},{name:"Ticket Lookup",href:"/ticket-lookup",icon:ly},{name:"Reservations",href:"/reservations",icon:ey},{name:"Customers",href:"/customers",icon:ty},{name:"Reports",href:"/reports",icon:ry},...(r==null?void 0:r.role)==="manager"?[{name:"Back Office",href:"/backoffice",icon:iy}]:[],{name:"Settings",href:"/settings",icon:ny}];return u.jsxs("div",{className:"bg-gray-800 text-white w-64 min-h-screen flex flex-col",children:[u.jsxs("div",{className:"p-4",children:[u.jsx("h1",{className:"text-xl font-bold",children:"POS System"}),u.jsxs("p",{className:"text-sm text-gray-300",children:["Welcome, ",r==null?void 0:r.name]})]}),u.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:n.map(s=>{const i=s.icon,o=e.pathname===s.href;return u.jsxs(Gh,{to:s.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${o?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[u.jsx(i,{className:"mr-3 h-5 w-5"}),s.name]},s.name)})}),u.jsx("div",{className:"p-4",children:u.jsxs("button",{onClick:t,className:"w-full flex items-center px-2 py-2 text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white rounded-md transition-colors",children:[u.jsx(sy,{className:"mr-3 h-5 w-5"}),"Logout"]})})]})},Vt={PRINTER_WIDTH:48,RECEIPT_WIDTH:42,formatLine(e,t="",r=this.RECEIPT_WIDTH){if(!t)return e.padEnd(r).substring(0,r);const n=e.length+t.length;if(n<=r){const i=r-n;return e+" ".repeat(i)+t}const s=r-t.length-1;return e.substring(0,s)+" "+t},centerText(e,t=this.RECEIPT_WIDTH){if(e.length>=t)return e.substring(0,t);const r=Math.floor((t-e.length)/2);return" ".repeat(r)+e+" ".repeat(t-r-e.length)},separator(e="-",t=this.RECEIPT_WIDTH){return e.repeat(t)},async generateThermalReceiptData(e,t){try{const r=[];if(r.push(""),r.push(this.centerText(" RESTAURANT POS ")),r.push(this.centerText("123 Restaurant Street")),r.push(this.centerText("City, State 12345")),r.push(this.centerText("Tel: (555) 123-4567")),r.push(""),r.push(this.separator("=")),r.push(""),r.push(this.centerText(`TICKET: ${e}`)),r.push(""),r.push(this.formatLine("Order Type:",t.orderType.toUpperCase())),t.table&&t.table!=="N/A"&&r.push(this.formatLine("Table:",t.table.toString())),r.push(this.formatLine("Date:",new Date(t.createdAt).toLocaleDateString())),r.push(this.formatLine("Time:",new Date(t.createdAt).toLocaleTimeString())),r.push(""),r.push(this.separator("-")),r.push(""),r.push("QTY ITEM                     TOTAL"),r.push(this.separator("-")),t.items.forEach(n=>{const s=n.quantity.toString(),i=n.name.length>20?n.name.substring(0,17)+"...":n.name,o=`${n.totalPrice.toFixed(2)}`;r.push(this.formatLine(`${s}x  ${i}`,o)),n.notes&&r.push(`     Note: ${n.notes}`)}),r.push(""),r.push(this.separator("-")),r.push(this.formatLine("SUBTOTAL:",`${t.subtotal.toFixed(2)}`)),r.push(""),r.push(this.separator("=")),r.push(""),r.push(this.formatLine("TOTAL:",`${t.total.toFixed(2)}`)),r.push(""),r.push(this.separator("=")),r.push(""),t.payments&&t.payments.length>0){const n=t.payments[0];if(r.push(this.formatLine("Payment:",n.payment_method.toUpperCase())),r.push(this.formatLine("Amount Paid:",`${n.amount.toFixed(2)}`)),n.payment_method==="cash"&&n.amount>t.total){const s=n.amount-t.total;r.push(this.formatLine("Change:",`${s.toFixed(2)}`))}r.push("")}return r.push(this.centerText("THANK YOU!")),r.push(this.centerText("Please visit again")),r.push(""),r.push(this.centerText(`Served by: ${t.cashier||"POS System"}`)),r.push(""),r.push(this.separator("-")),r.push(""),{lines:r,metadata:{ticketNumber:e,printTime:new Date().toISOString(),printerWidth:this.PRINTER_WIDTH,contentWidth:this.RECEIPT_WIDTH}}}catch(r){throw console.error("Error generating thermal receipt data:",r),r}},generateThermalHTML(e,t){const r=t.lines;return`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Thermal Receipt - ${e.ticketNumber}</title>
          <meta charset="UTF-8">
          <style>
            @page {
              size: 80mm auto;
              margin: 2mm 2mm 2mm 2mm;
            }
            
            body {
              font-family: 'Courier New', 'Monaco', 'Lucida Console', monospace;
              font-size: 12px;
              line-height: 1.2;
              margin: 0;
              padding: 0;
              width: 76mm;
              background: white;
              color: black;
            }
            
            .receipt-container {
              width: 100%;
              padding: 2mm;
            }
            
            .receipt-line {
              white-space: pre;
              margin: 0;
              padding: 0;
              display: block;
            }
            
            .receipt-line.bold {
              font-weight: bold;
            }
            
            .receipt-line.center {
              text-align: center;
            }
            
            .receipt-line.large {
              font-size: 14px;
              font-weight: bold;
            }
            
            .receipt-line.xl {
              font-size: 16px;
              font-weight: bold;
            }
            
            @media print {
              body {
                width: 76mm;
              }
              
              .no-print {
                display: none !important;
              }
            }
            
            .print-button {
              background: #007bff;
              color: white;
              border: none;
              padding: 10px 20px;
              font-size: 14px;
              border-radius: 4px;
              cursor: pointer;
              margin: 10px 0;
            }
            
            .print-button:hover {
              background: #0056b3;
            }
          </style>
        </head>
        <body>
          <div class="no-print">
            <button class="print-button" onclick="window.print()"> Print Receipt</button>
            <button class="print-button" onclick="window.close()" style="background: #6c757d;"> Close</button>
          </div>
          
          <div class="receipt-container">
            ${r.map((n,s)=>{let i="receipt-line";return n.includes("")||n.includes("TICKET:")?i+=" bold center":n.includes("RESTAURANT POS")?i+=" bold center xl":n.includes("TOTAL:")&&n.includes("")?i+=" bold large":n.includes("THANK YOU")&&(i+=" bold center"),`<div class="${i}">${n}</div>`}).join("")}
          </div>
          
          <script>
            // Auto-print when loaded (optional)
            // window.onload = () => setTimeout(() => window.print(), 500);
          <\/script>
        </body>
      </html>
    `},async saveSettledTicket(e,t,r,n,s=null){try{const{data:i,error:o}=await G.rpc("settle_ticket",{p_ticket_number:e,p_payment_method:t,p_cashier_id:s,p_thermal_receipt_data:{receiptData:r,thermalData:n,savedAt:new Date().toISOString()}});if(o)throw console.error("Error saving settled ticket:",o),o;return i}catch(i){throw console.error("Error in saveSettledTicket:",i),i}},async updatePrintCount(e){try{const{data:t,error:r}=await G.rpc("increment_print_count",{ticket_num:e});if(r)throw console.error("Error updating print count:",r),r;return t}catch(t){throw console.error("Error in updatePrintCount:",t),t}},async getSettledTicketsReport(e=null,t=null,r=null){try{const{data:n,error:s}=await G.rpc("get_settled_tickets_report",{p_start_date:e,p_end_date:t,p_payment_method:r});if(s)throw console.error("Error fetching settled tickets report:",s),s;return n}catch(n){throw console.error("Error in getSettledTicketsReport:",n),n}},async reprintSettledTicket(e){try{const{data:t,error:r}=await G.from("settled_tickets").select("*").eq("ticket_number",e).single();if(r)throw console.error("Error fetching settled ticket for reprint:",r),r;const n=t.thermal_receipt_data;if(!n)throw new Error("No thermal receipt data found for this ticket");return await this.updatePrintCount(e),{html:this.generateThermalHTML(n.receiptData,n.thermalData),settledTicket:t,isReprint:!0}}catch(t){throw console.error("Error in reprintSettledTicket:",t),t}}},He={async generateTicketNumber(){try{const{data:e,error:t}=await G.rpc("generate_ticket_number");if(t)throw console.error("Error generating ticket number:",t),t;return e}catch(e){throw console.error("Error in generateTicketNumber:",e),e}},async createOrderWithTicket(e){try{const t=await this.generateTicketNumber(),{data:r,error:n}=await G.from("orders").insert([{ticket_number:t,table_id:e.tableId,order_type:e.orderType||"dine-in",total_amount:e.totalAmount,status:"pending",payment_status:"pending"}]).select().single();if(n)throw console.error("Error creating order:",n),n;const s=e.items.map(o=>({order_id:r.id,menu_item_id:o.menuItemId,quantity:o.quantity,unit_price:o.unitPrice,total_price:o.totalPrice,notes:o.notes||null})),{error:i}=await G.from("order_items").insert(s);if(i)throw console.error("Error creating order items:",i),i;return{order:r,ticketNumber:t,items:s}}catch(t){throw console.error("Error in createOrderWithTicket:",t),t}},async getOrderByTicketNumber(e){try{const{data:t,error:r}=await G.from("orders").select(`
          *,
          tables (
            table_number,
            capacity
          ),
          order_items (
            *,
            menu_items (
              name,
              price
            )
          ),
          payments (
            *
          )
        `).eq("ticket_number",e).single();if(r)throw console.error("Error fetching order by ticket number:",r),r;return t}catch(t){throw console.error("Error in getOrderByTicketNumber:",t),t}},async getAllOrdersWithTickets(e={}){try{let t=G.from("orders").select(`
          *,
          tables (
            table_number,
            capacity
          ),
          order_items (
            *,
            menu_items (
              name,
              price
            )
          )
        `).order("created_at",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.orderType&&(t=t.eq("order_type",e.orderType)),e.paymentStatus&&(t=t.eq("payment_status",e.paymentStatus));const{data:r,error:n}=await t;if(n)throw console.error("Error fetching orders:",n),n;return r}catch(t){throw console.error("Error in getAllOrdersWithTickets:",t),t}},async updateOrderStatus(e,t){try{const{data:r,error:n}=await G.from("orders").update({status:t,updated_at:new Date().toISOString()}).eq("ticket_number",e).select().single();if(n)throw console.error("Error updating order status:",n),n;return r}catch(r){throw console.error("Error in updateOrderStatus:",r),r}},async processPayment(e,t,r=null){try{const n=await this.getOrderByTicketNumber(e),{data:s,error:i}=await G.from("payments").insert([{order_id:n.id,amount:t.amount,payment_method:t.method,status:"completed"}]).select().single();if(i)throw console.error("Error creating payment:",i),i;const{error:o}=await G.from("orders").update({payment_status:"paid",updated_at:new Date().toISOString()}).eq("ticket_number",e);if(o)throw console.error("Error updating order payment status:",o),o;const l=await this.generateReceipt(e);l.payments=[s];const a=await Vt.generateThermalReceiptData(e,l);return await Vt.saveSettledTicket(e,t.method,l,a,r),{payment:s,receiptData:l,thermalData:a,isSettled:!0}}catch(n){throw console.error("Error in processPayment:",n),n}},async generateReceipt(e){var t;try{const r=await this.getOrderByTicketNumber(e);return{ticketNumber:r.ticket_number,orderId:r.id,orderType:r.order_type,table:((t=r.tables)==null?void 0:t.table_number)||"N/A",status:r.status,paymentStatus:r.payment_status,items:r.order_items.map(s=>({name:s.menu_items.name,quantity:s.quantity,unitPrice:s.unit_price,totalPrice:s.total_price,notes:s.notes})),subtotal:r.total_amount,total:r.total_amount,createdAt:r.created_at,payments:r.payments||[]}}catch(r){throw console.error("Error in generateReceipt:",r),r}},async generateThermalReceipt(e){try{const t=await this.generateReceipt(e),r=await Vt.generateThermalReceiptData(e,t),n=Vt.generateThermalHTML(t,r);return{receiptData:t,thermalData:r,html:n}}catch(t){throw console.error("Error in generateThermalReceipt:",t),t}},async getSettledTickets(e={}){try{return await Vt.getSettledTicketsReport(e.startDate,e.endDate,e.paymentMethod)}catch(t){throw console.error("Error in getSettledTickets:",t),t}},async reprintTicket(e){try{return await Vt.reprintSettledTicket(e)}catch(t){throw console.error("Error in reprintTicket:",t),t}}},uy=()=>{const[e,t]=k.useState([{title:"Today's Sales",value:"0.00",color:"bg-green-500"},{title:"Open Orders",value:"0",color:"bg-blue-500"},{title:"Available Tables",value:"0",color:"bg-yellow-500"},{title:"Total Orders Today",value:"0",color:"bg-purple-500"}]),[r,n]=k.useState([]),[s,i]=k.useState(!0);k.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0);const c=new Date,d=new Date(c.getFullYear(),c.getMonth(),c.getDate()),h=new Date(c.getFullYear(),c.getMonth(),c.getDate()+1),{data:f,error:v}=await G.from("orders").select(`
          *,
          tables (table_number),
          order_items (
            *,
            menu_items (name)
          )
        `).gte("created_at",d.toISOString()).lt("created_at",h.toISOString()).order("created_at",{ascending:!1});if(v)throw v;const y=f.filter(p=>["pending","preparing","ready"].includes(p.status)).length,w=f.filter(p=>p.payment_status==="paid").reduce((p,_)=>p+parseFloat(_.total_amount),0),{data:x,error:g}=await G.from("tables").select("*").eq("status","available");if(g)throw g;t([{title:"Today's Sales",value:`${w.toFixed(2)}`,color:"bg-green-500"},{title:"Open Orders",value:y.toString(),color:"bg-blue-500"},{title:"Available Tables",value:x.length.toString(),color:"bg-yellow-500"},{title:"Total Orders Today",value:f.length.toString(),color:"bg-purple-500"}]);const m=f.slice(0,5).map(p=>{var _;return{id:p.id,ticketNumber:p.ticket_number,table:((_=p.tables)==null?void 0:_.table_number)||"N/A",orderType:p.order_type,total:p.total_amount,status:p.status,paymentStatus:p.payment_status,time:new Date(p.created_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}});n(m)}catch(c){console.error("Error loading dashboard data:",c)}finally{i(!1)}},l=(c,d)=>{if(d==="paid")return"text-green-600";switch(c){case"pending":return"text-orange-600";case"preparing":return"text-yellow-600";case"ready":return"text-blue-600";case"served":return"text-green-600";case"cancelled":return"text-red-600";default:return"text-gray-600"}},a=(c,d)=>{if(d==="paid"&&c==="served")return"Completed";if(d==="paid")return"Paid";switch(c){case"pending":return"Pending";case"preparing":return"Preparing";case"ready":return"Ready";case"served":return"Served";case"cancelled":return"Cancelled";default:return c}};return s?u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Dashboard"}),u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-gray-500 text-lg",children:"Loading dashboard data..."})})]}):u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),u.jsx("button",{onClick:o,className:"btn-secondary",children:"Refresh"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:e.map((c,d)=>u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("div",{className:`w-12 h-12 ${c.color} rounded-lg mb-4`}),u.jsx("h3",{className:"text-gray-500 text-sm",children:c.title}),u.jsx("p",{className:"text-2xl font-bold",children:c.value})]},d))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Orders"}),u.jsx("div",{className:"space-y-3",children:r.length>0?r.map(c=>u.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:c.orderType==="dine-in"?`Table ${c.table}`:c.orderType}),u.jsxs("p",{className:"text-sm text-gray-500 font-mono",children:["#",c.ticketNumber]}),u.jsx("p",{className:"text-xs text-gray-400",children:c.time})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-medium",children:["",c.total.toFixed(2)]}),u.jsx("p",{className:`text-sm ${l(c.status,c.paymentStatus)}`,children:a(c.status,c.paymentStatus)})]})]},c.id)):u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-gray-500",children:"No orders today"})})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("a",{href:"/new-order",className:"block w-full p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Create New Order"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Start a new customer order"})]})]})}),u.jsx("a",{href:"/payment",className:"block w-full p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Process Payment"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Handle order payments"})]})]})}),u.jsx("a",{href:"/ticket-lookup",className:"block w-full p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Ticket Lookup"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Search orders by ticket number"})]})]})})]})]})]})]})},cy=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!1),[s,i]=k.useState({number:"",capacity:"",status:"available"}),[o,l]=k.useState(""),[a,c]=k.useState(null);k.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:x,error:g}=await G.from("tables").select("*").order("table_number");g||t(x),n(!1)},h=x=>{i({...s,[x.target.name]:x.target.value})},f=async x=>{if(x.preventDefault(),l(""),!s.number||!s.capacity){l("Table number and capacity are required.");return}if(n(!0),a){const{error:g}=await G.from("tables").update({table_number:s.number,capacity:s.capacity,status:s.status}).eq("id",a);g&&l("Error updating table.")}else{const{error:g}=await G.from("tables").insert({table_number:s.number,capacity:s.capacity,status:s.status});g&&l("Error creating table.")}i({number:"",capacity:"",status:"available"}),c(null),await d(),n(!1)},v=x=>{i({number:x.table_number,capacity:x.capacity,status:x.status}),c(x.id)},y=async x=>{n(!0),await G.from("tables").delete().eq("id",x),await d(),n(!1)},w=x=>{switch(x){case"available":return"bg-green-500";case"occupied":return"bg-red-500";case"reserved":return"bg-yellow-500";default:return"bg-gray-500"}};return u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Table Management"}),u.jsxs("form",{onSubmit:f,className:"mb-6 flex flex-wrap gap-4 items-end",children:[u.jsx("input",{type:"number",name:"number",value:s.number,onChange:h,placeholder:"Table Number",className:"p-2 border rounded"}),u.jsx("input",{type:"number",name:"capacity",value:s.capacity,onChange:h,placeholder:"Capacity",className:"p-2 border rounded"}),u.jsxs("select",{name:"status",value:s.status,onChange:h,className:"p-2 border rounded",children:[u.jsx("option",{value:"available",children:"Available"}),u.jsx("option",{value:"occupied",children:"Occupied"}),u.jsx("option",{value:"reserved",children:"Reserved"}),u.jsx("option",{value:"maintenance",children:"Maintenance"})]}),u.jsx("button",{type:"submit",className:"btn-primary",children:a?"Update Table":"Add Table"}),a&&u.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{i({number:"",capacity:"",status:"available"}),c(null)},children:"Cancel"}),o&&u.jsx("span",{className:"text-red-600 ml-4",children:o})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(x=>u.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center cursor-pointer hover:shadow-lg transition-shadow",children:[u.jsx("div",{className:`w-16 h-16 ${w(x.status)} rounded-full mx-auto mb-4 flex items-center justify-center text-white font-bold text-xl`,children:x.table_number}),u.jsxs("h3",{className:"font-semibold",children:["Table ",x.table_number]}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Capacity: ",x.capacity]}),u.jsx("p",{className:`text-sm capitalize font-medium ${x.status==="available"?"text-green-600":x.status==="occupied"?"text-red-600":"text-yellow-600"}`,children:x.status}),u.jsxs("div",{className:"flex gap-2 mt-3",children:[u.jsx("button",{className:"btn-secondary w-full",onClick:()=>v(x),children:"Edit"}),u.jsx("button",{className:"btn-danger w-full",onClick:()=>y(x.id),children:"Delete"})]})]},x.id))})]})},dy=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(""),[s,i]=k.useState([]),[o,l]=k.useState([]),[a,c]=k.useState([]),[d,h]=k.useState(!1),[f,v]=k.useState(null),[y,w]=k.useState("");k.useEffect(()=>{x(),g()},[]);const x=async()=>{try{const{data:S,error:O}=await G.from("menu_items").select(`
          *,
          menu_categories (
            name
          )
        `).eq("active",!0);if(O)throw O;l(S||[])}catch(S){console.error("Error loading menu items:",S)}},g=async()=>{try{const{data:S,error:O}=await G.from("tables").select("*").eq("status","available");if(O)throw O;c(S||[])}catch(S){console.error("Error loading tables:",S)}},m=S=>{const O=s.find(E=>E.id===S.id);i(O?s.map(E=>E.id===S.id?{...E,quantity:E.quantity+1}:E):[...s,{...S,quantity:1}])},p=S=>{i(s.filter(O=>O.id!==S))},_=(S,O)=>{O===0?p(S):i(s.map(E=>E.id===S?{...E,quantity:O}:E))},j=s.reduce((S,O)=>S+O.price*O.quantity,0),T=async()=>{if(w(""),!e){w("Please select an order type.");return}if(!r){w("Please select a table.");return}if(s.length===0){w("Please add at least one item to the order.");return}h(!0);try{const S={tableId:parseInt(r),orderType:e,totalAmount:j,items:s.map(E=>({menuItemId:E.id,quantity:E.quantity,unitPrice:E.price,totalPrice:E.price*E.quantity}))},O=await He.createOrderWithTicket(S);v({ticketNumber:O.ticketNumber,orderId:O.order.id,total:j}),i([]),n(""),t("")}catch(S){console.error("Error placing order:",S),w("Error placing order. Please try again or contact admin.")}finally{h(!1)}},N=()=>{v(null),t("")};return f?u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-lg p-8 text-center",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),u.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"Order Placed Successfully!"}),u.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-4",children:[u.jsx("p",{className:"text-lg font-bold text-gray-800",children:"Ticket Number"}),u.jsx("p",{className:"text-3xl font-bold text-blue-600",children:f.ticketNumber})]}),u.jsxs("p",{className:"text-gray-600 mb-2",children:["Order ID: #",f.orderId]}),u.jsxs("p",{className:"text-xl font-semibold",children:["Total: ",f.total.toFixed(2)]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:N,className:"w-full btn-primary",children:"Create New Order"}),u.jsx("button",{onClick:()=>window.print(),className:"w-full btn-secondary",children:"Print Receipt"})]})]})}):e?u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"New Order"}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("span",{className:"inline-block px-4 py-2 rounded bg-blue-100 text-blue-700 font-semibold text-sm",children:["Order Type: ",e.charAt(0).toUpperCase()+e.slice(1)]}),u.jsx("button",{className:"ml-4 text-blue-500 underline text-sm",onClick:()=>t(""),children:"Change"})]}),y&&u.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:y}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Menu"}),u.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:o.map(S=>{var O;return u.jsxs("div",{className:"flex justify-between items-center p-3 border border-gray-200 rounded",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium",children:S.name}),u.jsx("p",{className:"text-sm text-gray-600",children:(O=S.menu_categories)==null?void 0:O.name}),u.jsxs("p",{className:"font-bold text-green-600",children:["",S.price]})]}),u.jsx("button",{onClick:()=>m(S),className:"btn-primary",children:"Add"})]},S.id)})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),e==="dine-in"&&u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Table"}),u.jsxs("select",{value:r,onChange:S=>n(S.target.value),className:"w-full p-2 border border-gray-300 rounded",children:[u.jsx("option",{value:"",children:"Select Table"}),a.map(S=>u.jsxs("option",{value:S.id,children:["Table ",S.table_number," (Capacity: ",S.capacity,")"]},S.id))]})]}),u.jsx("div",{className:"space-y-3 mb-6 max-h-60 overflow-y-auto",children:s.map(S=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium",children:S.name}),u.jsxs("p",{className:"text-sm text-gray-600",children:["",S.price," each"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>_(S.id,S.quantity-1),className:"w-8 h-8 bg-gray-200 rounded text-center hover:bg-gray-300",children:"-"}),u.jsx("span",{className:"w-8 text-center",children:S.quantity}),u.jsx("button",{onClick:()=>_(S.id,S.quantity+1),className:"w-8 h-8 bg-gray-200 rounded text-center hover:bg-gray-300",children:"+"}),u.jsx("button",{onClick:()=>p(S.id),className:"ml-2 text-red-600 hover:text-red-800",children:""})]})]},S.id))}),u.jsxs("div",{className:"border-t pt-4",children:[u.jsxs("div",{className:"flex justify-between text-xl font-bold",children:[u.jsx("span",{children:"Total:"}),u.jsxs("span",{children:["",j.toFixed(2)]})]}),u.jsx("button",{onClick:T,disabled:d||e==="dine-in"&&!r||s.length===0,className:"w-full mt-4 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Placing Order...":"Place Order"})]})]})]})]}):u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"New Order"}),u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select Order Type"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-xl mx-auto",children:[{type:"dine-in",label:"Dine-in",icon:""},{type:"takeaway",label:"Takeaway",icon:""},{type:"delivery",label:"Delivery",icon:""}].map(S=>u.jsxs("button",{onClick:()=>t(S.type),className:"bg-white rounded-lg shadow p-8 flex flex-col items-center justify-center text-xl font-semibold border-2 border-transparent hover:border-blue-500 transition",children:[u.jsx("div",{className:"text-4xl mb-2",children:S.icon}),S.label]},S.type))})]})},hy=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[s,i]=k.useState(null);k.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const v=(await He.getAllOrdersWithTickets({status:["pending","preparing","ready"].join(",")})).map(y=>{var w;return{id:y.id,ticketNumber:y.ticket_number,table:((w=y.tables)==null?void 0:w.table_number)||"N/A",orderType:y.order_type,items:y.order_items.map(x=>({name:x.menu_items.name,quantity:x.quantity,price:x.unit_price})),total:y.total_amount,status:y.status,paymentStatus:y.payment_status,time:new Date(y.created_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}});t(v)}catch(f){console.error("Error loading tickets:",f)}finally{n(!1)}},l=async(f,v)=>{try{i(f),await He.updateOrderStatus(f,v),await o()}catch(y){console.error("Error updating ticket status:",y),alert("Error updating ticket status. Please try again.")}finally{i(null)}},a=f=>{switch(f){case"pending":return"bg-orange-500";case"preparing":return"bg-yellow-500";case"ready":return"bg-green-500";case"served":return"bg-blue-500";default:return"bg-gray-500"}},c=f=>{switch(f){case"pending":return"Pending";case"preparing":return"Preparing";case"ready":return"Ready";case"served":return"Served";default:return f}},d=f=>{switch(f){case"pending":return"preparing";case"preparing":return"ready";case"ready":return"served";default:return null}},h=f=>{switch(f){case"pending":return"Start Preparing";case"preparing":return"Mark Ready";case"ready":return"Mark Served";default:return null}};return r?u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Open Tickets"}),u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-gray-500 text-lg",children:"Loading tickets..."})})]}):u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold",children:"Open Tickets"}),u.jsx("button",{onClick:o,className:"btn-secondary",children:"Refresh"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(f=>u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold",children:f.orderType==="dine-in"?`Table ${f.table}`:f.orderType.charAt(0).toUpperCase()+f.orderType.slice(1)}),u.jsxs("p",{className:"text-sm text-gray-600 font-mono",children:["#",f.ticketNumber]}),u.jsx("p",{className:"text-sm text-gray-600",children:f.time}),f.paymentStatus==="paid"&&u.jsx("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-800 text-xs rounded mt-1",children:"Paid"})]}),u.jsx("span",{className:`px-3 py-1 rounded-full text-white text-sm ${a(f.status)}`,children:c(f.status)})]}),u.jsx("div",{className:"space-y-2 mb-4",children:f.items.map((v,y)=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{children:[v.quantity," ",v.name]}),u.jsxs("span",{children:["",(v.price*v.quantity).toFixed(2)]})]},y))}),u.jsxs("div",{className:"border-t pt-3",children:[u.jsxs("div",{className:"flex justify-between font-bold",children:[u.jsx("span",{children:"Total:"}),u.jsxs("span",{children:["",f.total.toFixed(2)]})]}),u.jsxs("div",{className:"mt-3 space-y-2",children:[d(f.status)&&u.jsx("button",{onClick:()=>l(f.ticketNumber,d(f.status)),disabled:s===f.ticketNumber,className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded disabled:opacity-50",children:s===f.ticketNumber?"Updating...":h(f.status)}),u.jsx("button",{onClick:()=>{alert(`Ticket Details: ${f.ticketNumber}`)},className:"w-full btn-secondary",children:"View Details"})]})]})]},f.id))}),e.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("p",{className:"text-gray-500 text-lg",children:"No open tickets"}),u.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"New orders will appear here"})]})]})},fy=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(null),[s,i]=k.useState("cash"),[o,l]=k.useState(""),[a,c]=k.useState(!1),[d,h]=k.useState(!1),[f,v]=k.useState(""),[y,w]=k.useState(null),[x,g]=k.useState(""),m=(r==null?void 0:r.total_amount)||0,p=o?Math.max(0,parseFloat(o)-m):0,_=async E=>{if(E.preventDefault(),!!e.trim()){c(!0),v(""),n(null);try{const D=await He.getOrderByTicketNumber(e.trim());if(D.payment_status==="paid"){v("This order has already been paid.");return}n(D),l(D.total_amount.toString())}catch(D){console.error("Error looking up ticket:",D),v("Ticket not found. Please check the ticket number and try again.")}finally{c(!1)}}},j=async()=>{if(g(""),!r){g("No order loaded. Please look up a ticket first.");return}if(!o||isNaN(parseFloat(o))||parseFloat(o)<m){g("Amount paid must be at least the order total.");return}c(!0);try{const E={amount:m,method:s},D=await He.processPayment(e,E);w(D),h(!0)}catch(E){console.error("Error processing payment:",E),g("Error processing payment. Please try again or contact admin.")}finally{c(!1)}},T=async()=>{try{let E;y&&y.thermalData?E=y.html||Vt.generateThermalHTML(y.receiptData,y.thermalData):E=(await He.generateThermalReceipt(e)).html;const D=window.open("","_blank");D.document.write(E),D.document.close(),D.focus(),setTimeout(()=>{D.print()},500)}catch(E){console.error("Error generating thermal receipt:",E),alert("Error generating thermal receipt. Please try again.")}},N=async()=>{try{const E=await He.generateReceipt(e),D=window.open("","_blank");D.document.write(S(E)),D.document.close(),D.print()}catch(E){console.error("Error generating receipt:",E),alert("Error generating receipt. Please try again.")}},S=E=>`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Receipt - ${E.ticketNumber}</title>
          <style>
            body { 
              font-family: 'Courier New', monospace; 
              max-width: 400px; 
              margin: 0 auto; 
              padding: 20px;
              line-height: 1.4;
            }
            .header { text-align: center; margin-bottom: 20px; }
            .ticket-number { 
              font-size: 24px; 
              font-weight: bold; 
              border: 2px solid #000; 
              padding: 10px; 
              margin: 10px 0; 
            }
            .item { 
              display: flex; 
              justify-content: space-between; 
              margin: 5px 0; 
            }
            .total { 
              border-top: 2px solid #000; 
              margin-top: 10px; 
              padding-top: 10px; 
              font-weight: bold; 
              font-size: 18px;
            }
            .footer { 
              text-align: center; 
              margin-top: 20px; 
              font-size: 12px; 
            }
            @media print {
              body { margin: 0; padding: 10px; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h2>POS SYSTEM</h2>
            <div class="ticket-number">TICKET: ${E.ticketNumber}</div>
            <p>Order Type: ${E.orderType.toUpperCase()}</p>
            ${E.table!=="N/A"?`<p>Table: ${E.table}</p>`:""}
            <p>Date: ${new Date(E.createdAt).toLocaleDateString()}</p>
            <p>Time: ${new Date(E.createdAt).toLocaleTimeString()}</p>
          </div>
          
          <div class="items">
            <div style="border-bottom: 1px solid #000; margin-bottom: 10px; padding-bottom: 5px;">
              <strong>ITEMS:</strong>
            </div>
            ${E.items.map(D=>`
              <div class="item">
                <span>${D.quantity}x ${D.name}</span>
                <span>${D.totalPrice.toFixed(2)}</span>
              </div>
            `).join("")}
          </div>
          
          <div class="total">
            <div style="display: flex; justify-content: space-between;">
              <span>TOTAL:</span>
              <span>${E.total.toFixed(2)}</span>
            </div>
          </div>
          
          <div class="footer">
            <p>Payment Method: ${s.toUpperCase()}</p>
            <p>Status: PAID</p>
            <p>Thank you for your order!</p>
          </div>
        </body>
      </html>
    `,O=()=>{t(""),n(null),i("cash"),l(""),h(!1),v(""),w(null)};return d?u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-lg p-8 text-center",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:u.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),u.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"Payment Successful!"}),u.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-4",children:[u.jsx("p",{className:"text-lg font-bold text-gray-800",children:"Ticket Number"}),u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e})]}),u.jsxs("p",{className:"text-xl font-semibold",children:["Amount Paid: ",m.toFixed(2)]}),u.jsxs("p",{className:"text-lg",children:["Method: ",s.charAt(0).toUpperCase()+s.slice(1)]}),s==="cash"&&p>0&&u.jsxs("p",{className:"text-lg font-semibold text-blue-600 mt-2",children:["Change: ",p.toFixed(2)]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:T,className:"w-full btn-primary text-lg py-3",children:" Print Thermal Receipt (80mm)"}),u.jsx("button",{onClick:N,className:"w-full btn-secondary",children:" Print Regular Receipt"}),u.jsx("button",{onClick:O,className:"w-full btn-secondary",children:" New Payment"})]})]})}):u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Payment Processing"}),u.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[!r&&u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Enter Ticket Number"}),u.jsxs("form",{onSubmit:_,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ticket Number"}),u.jsx("input",{type:"text",value:e,onChange:E=>t(E.target.value),placeholder:"e.g., TKT0001",className:"w-full p-3 border border-gray-300 rounded text-lg font-mono",disabled:a})]}),u.jsx("button",{type:"submit",disabled:a||!e.trim(),className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Looking up...":"Lookup Order"})]}),f&&u.jsx("div",{className:"mt-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded",children:f})]}),r&&u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-2",children:"Order Summary"}),u.jsxs("div",{className:"bg-gray-100 rounded p-3 mb-4",children:[u.jsx("p",{className:"font-mono font-bold text-lg",children:r.ticket_number}),u.jsxs("p",{className:"text-sm text-gray-600",children:[r.order_type,"  ",r.tables?`Table ${r.tables.table_number}`:"No table"]})]}),u.jsx("div",{className:"space-y-2 mb-4",children:r.order_items.map((E,D)=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{children:[E.quantity," ",E.menu_items.name]}),u.jsxs("span",{children:["",E.total_price.toFixed(2)]})]},D))}),u.jsxs("div",{className:"text-center border-t pt-4",children:[u.jsx("h3",{className:"text-2xl font-bold",children:"Order Total"}),u.jsxs("p",{className:"text-4xl font-bold text-green-600",children:["",m.toFixed(2)]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium mb-3",children:"Payment Method"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"radio",value:"cash",checked:s==="cash",onChange:E=>i(E.target.value),className:"mr-2"}),"Cash"]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"radio",value:"card",checked:s==="card",onChange:E=>i(E.target.value),className:"mr-2"}),"Credit/Debit Card"]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"radio",value:"mobile",checked:s==="mobile",onChange:E=>i(E.target.value),className:"mr-2"}),"Mobile Payment"]})]})]}),s==="cash"&&u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Amount Paid"}),u.jsx("input",{type:"number",value:o,onChange:E=>l(E.target.value),className:"w-full p-3 border border-gray-300 rounded text-lg",placeholder:"0.00",step:"0.01",min:m}),p>0&&u.jsxs("p",{className:"mt-2 text-lg",children:["Change: ",u.jsxs("span",{className:"font-bold text-blue-600",children:["",p.toFixed(2)]})]})]}),x&&u.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:x}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:j,disabled:a||s==="cash"&&(!o||parseFloat(o)<m),className:"w-full btn-primary text-lg py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Processing...":"Process Payment"}),u.jsx("button",{onClick:()=>n(null),className:"w-full btn-secondary",children:"Change Order"})]})]})]})]})},py=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(null),[s,i]=k.useState(!1),[o,l]=k.useState(""),a=async v=>{if(v.preventDefault(),!!e.trim()){i(!0),l(""),n(null);try{const y=await He.getOrderByTicketNumber(e.trim());n(y)}catch(y){console.error("Error searching for ticket:",y),l("Ticket not found. Please check the ticket number and try again.")}finally{i(!1)}}},c=async()=>{try{const v=await He.generateReceipt(e),y=window.open("","_blank");y.document.write(d(v)),y.document.close(),y.print()}catch(v){console.error("Error generating receipt:",v),alert("Error generating receipt. Please try again.")}},d=v=>`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Receipt - ${v.ticketNumber}</title>
          <style>
            body { 
              font-family: 'Courier New', monospace; 
              max-width: 400px; 
              margin: 0 auto; 
              padding: 20px;
              line-height: 1.4;
            }
            .header { text-align: center; margin-bottom: 20px; }
            .ticket-number { 
              font-size: 24px; 
              font-weight: bold; 
              border: 2px solid #000; 
              padding: 10px; 
              margin: 10px 0; 
            }
            .item { 
              display: flex; 
              justify-content: space-between; 
              margin: 5px 0; 
            }
            .total { 
              border-top: 2px solid #000; 
              margin-top: 10px; 
              padding-top: 10px; 
              font-weight: bold; 
              font-size: 18px;
            }
            .footer { 
              text-align: center; 
              margin-top: 20px; 
              font-size: 12px; 
            }
            @media print {
              body { margin: 0; padding: 10px; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h2>POS SYSTEM</h2>
            <div class="ticket-number">TICKET: ${v.ticketNumber}</div>
            <p>Order Type: ${v.orderType.toUpperCase()}</p>
            ${v.table!=="N/A"?`<p>Table: ${v.table}</p>`:""}
            <p>Date: ${new Date(v.createdAt).toLocaleDateString()}</p>
            <p>Time: ${new Date(v.createdAt).toLocaleTimeString()}</p>
          </div>
          
          <div class="items">
            <div style="border-bottom: 1px solid #000; margin-bottom: 10px; padding-bottom: 5px;">
              <strong>ITEMS:</strong>
            </div>
            ${v.items.map(y=>`
              <div class="item">
                <span>${y.quantity}x ${y.name}</span>
                <span>${y.totalPrice.toFixed(2)}</span>
              </div>
            `).join("")}
          </div>
          
          <div class="total">
            <div style="display: flex; justify-content: space-between;">
              <span>TOTAL:</span>
              <span>${v.total.toFixed(2)}</span>
            </div>
          </div>
          
          <div class="footer">
            <p>Status: ${v.status.toUpperCase()}</p>
            <p>Payment: ${v.paymentStatus.toUpperCase()}</p>
            <p>Thank you for your order!</p>
          </div>
        </body>
      </html>
    `,h=v=>{switch(v){case"pending":return"text-orange-600 bg-orange-100";case"preparing":return"text-yellow-600 bg-yellow-100";case"ready":return"text-green-600 bg-green-100";case"served":return"text-blue-600 bg-blue-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},f=v=>{switch(v){case"pending":return"text-orange-600 bg-orange-100";case"paid":return"text-green-600 bg-green-100";case"refunded":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Ticket Lookup"}),u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[u.jsx("form",{onSubmit:a,className:"space-y-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Enter Ticket Number"}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("input",{type:"text",value:e,onChange:v=>t(v.target.value),placeholder:"e.g., TKT0001",className:"flex-1 p-3 border border-gray-300 rounded text-lg font-mono",disabled:s}),u.jsx("button",{type:"submit",disabled:s||!e.trim(),className:"px-6 py-3 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Searching...":"Search"})]})]})}),o&&u.jsx("div",{className:"mt-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded",children:o})]}),r&&u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Order Details"}),u.jsx("p",{className:"text-3xl font-mono font-bold text-blue-600 mt-2",children:r.ticket_number})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${h(r.status)}`,children:r.status.toUpperCase()}),u.jsx("div",{className:"mt-2",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f(r.payment_status)}`,children:r.payment_status.toUpperCase()})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Order Information"}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Order ID:"})," #",r.id]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Type:"})," ",r.order_type]}),r.tables&&u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Table:"})," ",r.tables.table_number]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(r.created_at).toLocaleString()]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Updated:"})," ",new Date(r.updated_at).toLocaleString()]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Payment Information"}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Status:"})," ",r.payment_status]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",r.total_amount.toFixed(2)]}),r.payments&&r.payments.length>0&&u.jsxs("div",{className:"mt-2",children:[u.jsx("p",{className:"font-medium",children:"Payments:"}),r.payments.map((v,y)=>u.jsxs("p",{className:"ml-2",children:["",v.amount.toFixed(2)," via ",v.payment_method]},y))]})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Order Items"}),u.jsx("div",{className:"space-y-2",children:r.order_items.map((v,y)=>u.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:v.menu_items.name}),u.jsxs("p",{className:"text-sm text-gray-600",children:[v.quantity,"  ",v.unit_price.toFixed(2)]}),v.notes&&u.jsxs("p",{className:"text-sm text-gray-500 italic",children:["Note: ",v.notes]})]}),u.jsx("div",{className:"text-right",children:u.jsxs("p",{className:"font-bold",children:["",v.total_price.toFixed(2)]})})]},y))}),u.jsx("div",{className:"border-t pt-3 mt-3",children:u.jsxs("div",{className:"flex justify-between text-xl font-bold",children:[u.jsx("span",{children:"Total:"}),u.jsxs("span",{children:["",r.total_amount.toFixed(2)]})]})})]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:c,className:"btn-primary",children:"Print Receipt"}),u.jsx("button",{onClick:()=>{n(null),t(""),l("")},className:"btn-secondary",children:"New Search"})]})]})]})]})},my=()=>u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Reservations"}),u.jsx("p",{className:"text-gray-600",children:"Reservation management will be implemented here."})]}),gy=()=>u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Customer Management"}),u.jsx("p",{className:"text-gray-600",children:"Customer management features will be implemented here."})]}),vy=()=>u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Reports"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex items-center mb-3",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:u.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),u.jsx("h3",{className:"text-lg font-semibold",children:"Settled Tickets"})]}),u.jsx("p",{className:"text-gray-600 mb-4",children:"View all completed orders with thermal receipts and reprint functionality"}),u.jsx(Gh,{to:"/reports/settled-tickets",className:"btn-primary inline-block text-center",children:"View Settled Tickets"})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex items-center mb-3",children:[u.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:u.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),u.jsx("h3",{className:"text-lg font-semibold",children:"Sales Report"})]}),u.jsx("p",{className:"text-gray-600 mb-4",children:"View daily, weekly, and monthly sales"}),u.jsx("button",{className:"btn-primary",children:"Generate Report"})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex items-center mb-3",children:[u.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg mr-3",children:u.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),u.jsx("h3",{className:"text-lg font-semibold",children:"Popular Items"})]}),u.jsx("p",{className:"text-gray-600 mb-4",children:"See which items sell the most"}),u.jsx("button",{className:"btn-primary",children:"View Report"})]})]})]}),yy=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!1),[s,i]=k.useState({startDate:"",endDate:"",paymentMethod:""}),[o,l]=k.useState({totalTickets:0,totalAmount:0,averageTicket:0});k.useEffect(()=>{a()},[]);const a=async()=>{n(!0);try{const w=await He.getSettledTickets(s);t(w);const x=w.reduce((g,m)=>g+parseFloat(m.total_amount),0);l({totalTickets:w.length,totalAmount:x,averageTicket:w.length>0?x/w.length:0})}catch(w){console.error("Error loading settled tickets:",w),alert("Error loading settled tickets. Please try again.")}finally{n(!1)}},c=(w,x)=>{i(g=>({...g,[w]:x}))},d=()=>{a()},h=()=>{i({startDate:"",endDate:"",paymentMethod:""}),setTimeout(()=>{a()},100)},f=async w=>{try{const x=await He.reprintTicket(w),g=window.open("","_blank");g.document.write(x.html),g.document.close(),g.focus(),setTimeout(()=>{g.print()},500),a()}catch(x){console.error("Error reprinting ticket:",x),alert("Error reprinting ticket. Please try again.")}},v=w=>new Date(w).toLocaleDateString()+" "+new Date(w).toLocaleTimeString(),y=w=>{switch(w){case"cash":return"bg-green-100 text-green-800";case"card":return"bg-blue-100 text-blue-800";case"mobile":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Settled Tickets Report"}),u.jsx("p",{className:"text-gray-600",children:"View and manage all completed orders with thermal receipts"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[u.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:u.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tickets"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalTickets})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:u.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",o.totalAmount.toFixed(2)]})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:u.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Ticket"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",o.averageTicket.toFixed(2)]})]})]})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Date"}),u.jsx("input",{type:"date",value:s.startDate,onChange:w=>c("startDate",w.target.value),className:"w-full p-2 border border-gray-300 rounded"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Date"}),u.jsx("input",{type:"date",value:s.endDate,onChange:w=>c("endDate",w.target.value),className:"w-full p-2 border border-gray-300 rounded"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Payment Method"}),u.jsxs("select",{value:s.paymentMethod,onChange:w=>c("paymentMethod",w.target.value),className:"w-full p-2 border border-gray-300 rounded",children:[u.jsx("option",{value:"",children:"All Methods"}),u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"card",children:"Card"}),u.jsx("option",{value:"mobile",children:"Mobile"})]})]}),u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("button",{onClick:d,disabled:r,className:"btn-primary",children:"Apply Filters"}),u.jsx("button",{onClick:h,disabled:r,className:"btn-secondary",children:"Clear"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:u.jsx("h2",{className:"text-lg font-semibold",children:"Settled Tickets"})}),r?u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Loading settled tickets..."})]}):e.length===0?u.jsx("div",{className:"p-8 text-center text-gray-500",children:u.jsx("p",{children:"No settled tickets found for the selected filters."})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ticket #"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Type"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Table"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Print Count"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(w=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.ticket_number})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:v(w.settled_at)})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900 capitalize",children:w.order_type})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:w.table_number?`Table ${w.table_number}`:"N/A"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full capitalize ${y(w.payment_method)}`,children:w.payment_method})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",parseFloat(w.total_amount).toFixed(2)]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"text-sm text-gray-900",children:[w.print_count," times"]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:u.jsx("button",{onClick:()=>f(w.ticket_number),className:"text-blue-600 hover:text-blue-900 mr-3",title:"Reprint Thermal Receipt",children:" Reprint"})})]},w.ticket_number))})]})})]})]})},wy=()=>u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Back Office"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Menu Management"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Add, edit, or remove menu items"}),u.jsx("button",{className:"btn-primary",children:"Manage Menu"})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Staff Management"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Manage staff accounts and permissions"}),u.jsx("button",{className:"btn-primary",children:"Manage Staff"})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Inventory"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Track and manage inventory levels"}),u.jsx("button",{className:"btn-primary",children:"View Inventory"})]})]})]}),xy=()=>u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Settings"}),u.jsxs("div",{className:"max-w-2xl",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"System Settings"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Restaurant Name"}),u.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded",placeholder:"My Restaurant"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Default Tax Rate (%)"}),u.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded",placeholder:"8.5"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Security Settings"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Idle Timeout (minutes)"}),u.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded",placeholder:"5"})]}),u.jsx("button",{className:"btn-primary",children:"Update Settings"})]})]})]})]}),_y=(e=3e5)=>{const[t,r]=k.useState(!1),n=k.useCallback(()=>{r(!1)},[]);return k.useEffect(()=>{let s;const i=()=>{clearTimeout(s),s=setTimeout(()=>r(!0),e)},o=["mousedown","mousemove","keypress","scroll","touchstart"];return o.forEach(l=>{document.addEventListener(l,i,!0)}),i(),()=>{clearTimeout(s),o.forEach(l=>{document.removeEventListener(l,i,!0)})}},[e]),{isIdle:t,resetTimer:n}},ky=()=>{const{isIdle:e}=_y(9e4),{logout:t}=Ci();return k.useEffect(()=>{e&&t()},[e,t]),u.jsxs("div",{className:"flex h-screen bg-gray-100",children:[u.jsx(ay,{}),u.jsx("main",{className:"flex-1 overflow-auto",children:u.jsxs(Jh,{children:[u.jsx(we,{path:"/",element:u.jsx(uy,{})}),u.jsx(we,{path:"/tables",element:u.jsx(cy,{})}),u.jsx(we,{path:"/new-order",element:u.jsx(dy,{})}),u.jsx(we,{path:"/open-tickets",element:u.jsx(hy,{})}),u.jsx(we,{path:"/payment",element:u.jsx(fy,{})}),u.jsx(we,{path:"/ticket-lookup",element:u.jsx(py,{})}),u.jsx(we,{path:"/reservations",element:u.jsx(my,{})}),u.jsx(we,{path:"/customers",element:u.jsx(gy,{})}),u.jsx(we,{path:"/reports",element:u.jsx(vy,{})}),u.jsx(we,{path:"/reports/settled-tickets",element:u.jsx(yy,{})}),u.jsx(we,{path:"/backoffice",element:u.jsx(wy,{})}),u.jsx(we,{path:"/settings",element:u.jsx(xy,{})})]})})]})},Sy=()=>{const{isAuthenticated:e,loading:t}=Ci();return t?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-xl",children:"Loading..."})}):u.jsx(H0,{children:u.jsx(Jh,{children:u.jsx(we,{path:"/*",element:e?u.jsx(ky,{}):u.jsx(J0,{})})})})};function jy(){return u.jsx(Kv,{children:u.jsx(Sy,{})})}dh(document.getElementById("root")).render(u.jsx(k.StrictMode,{children:u.jsx(jy,{})}));
